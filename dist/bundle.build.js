!function(n){"function"==typeof define&&define.amd?define(n):n()}((function(){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},n(e)}function e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function t(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function o(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n}function r(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null==t)return;var o,r,i=[],a=!0,c=!1;try{for(t=t.call(n);!(a=(o=t.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(n){c=!0,r=n}finally{try{a||null==t.return||t.return()}finally{if(c)throw r}}return i}(n,e)||i(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(n,e){if(n){if("string"==typeof n)return a(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(n,e):void 0}}function a(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=n[t];return o}function c(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=i(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var o=0,r=function(){};return{s:r,n:function(){return o>=n.length?{done:!0}:{done:!1,value:n[o++]}},e:function(n){throw n},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return c=n.done,n},e:function(n){s=!0,a=n},f:function(){try{c||null==t.return||t.return()}finally{if(s)throw a}}}}function s(n,e){void 0===e&&(e={});var t=e.insertAt;if(n&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===t&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}}s(".jello-horizontal {\n  -webkit-animation: jello-horizontal .9s both;\n  animation: jello-horizontal .9s both\n}\n\n@-webkit-keyframes jello-horizontal {\n  0% {\n    -webkit-transform: scale3d(1, 1, 1);\n    transform: scale3d(1, 1, 1)\n  }\n\n  30% {\n    -webkit-transform: scale3d(1.25, .75, 1);\n    transform: scale3d(1.25, .75, 1)\n  }\n\n  40% {\n    -webkit-transform: scale3d(.75, 1.25, 1);\n    transform: scale3d(.75, 1.25, 1)\n  }\n\n  50% {\n    -webkit-transform: scale3d(1.15, .85, 1);\n    transform: scale3d(1.15, .85, 1)\n  }\n\n  65% {\n    -webkit-transform: scale3d(.95, 1.05, 1);\n    transform: scale3d(.95, 1.05, 1)\n  }\n\n  75% {\n    -webkit-transform: scale3d(1.05, .95, 1);\n    transform: scale3d(1.05, .95, 1)\n  }\n\n  100% {\n    -webkit-transform: scale3d(1, 1, 1);\n    transform: scale3d(1, 1, 1)\n  }\n}\n\n@keyframes jello-horizontal {\n  0% {\n    -webkit-transform: scale3d(1, 1, 1);\n    transform: scale3d(1, 1, 1)\n  }\n\n  30% {\n    -webkit-transform: scale3d(1.25, .75, 1);\n    transform: scale3d(1.25, .75, 1)\n  }\n\n  40% {\n    -webkit-transform: scale3d(.75, 1.25, 1);\n    transform: scale3d(.75, 1.25, 1)\n  }\n\n  50% {\n    -webkit-transform: scale3d(1.15, .85, 1);\n    transform: scale3d(1.15, .85, 1)\n  }\n\n  65% {\n    -webkit-transform: scale3d(.95, 1.05, 1);\n    transform: scale3d(.95, 1.05, 1)\n  }\n\n  75% {\n    -webkit-transform: scale3d(1.05, .95, 1);\n    transform: scale3d(1.05, .95, 1)\n  }\n\n  100% {\n    -webkit-transform: scale3d(1, 1, 1);\n    transform: scale3d(1, 1, 1)\n  }\n}\n\n.slide-in-blurred-top {\n  animation: slide-in-blurred-top .6s cubic-bezier(.23, 1.000, .32, 1.000) both\n}\n\n@keyframes slide-in-blurred-top {\n  0% {\n    transform: translateY(-1000px) scaleY(2.5) scaleX(.2);\n    transform-origin: 50% 0;\n    filter: blur(40px);\n    opacity: 0\n  }\n\n  100% {\n    transform: translateY(0) scaleY(1) scaleX(1);\n    transform-origin: 50% 50%;\n    filter: blur(0);\n    opacity: 1\n  }\n}");s(":root {\n  --primary-deep: #0987ee; \n  --primary-light: #40a9ff; \n}\n\n#envBox {\n  position: fixed;\n  z-index: 999999999999;\n  top: 50%;\n  right: 0;\n  width: 10px;\n  height: 60px;\n  background: var(--primary-light);\n  transition: top .5s linear;\n  border-radius: 5px 0 0 5px;\n}\n\n#envBox-expand {\n  position: fixed;\n  z-index: 9999999999999;\n  height: 60px;\n  width: 100vw;\n  top: 50%;\n  right: 0;\n  background: var(--primary-light);\n  transition: width .5s linear;\n}\n\n#envBox-expand button {\n  width: 20%;\n  height: 30px;\n  z-index: 1;\n  color: white;\n  background: var(--primary-deep);\n  outline: none;\n  border: none;\n  padding: 0.5em auto;\n  box-sizing: border-box;\n}\n\n#envBox-expand span {\n  color: #ffffff;\n  font-size: 14px;\n}\n\n\n.envBox-textline {\n  line-height: 20px;\n}\n");s("/* dialog componetnts */\n:root {\n  --main-deep: #0987ee; \n  --main-light: #40a9ff; \n\n  --common-info: #40a9ff; \n  --common-warn: #ffa20d; \n  --common-error: #ff2a2a; \n  --common-success: #00d41c; \n}\n\n#envBox-dialog {\n  position: fixed;\n  font-size: 14px;\n  max-width: 80%;\n  z-index: 99;\n  background: var(--main-light);\n  padding: 20px;\n  border-radius: 5px;\n  color: #fff;\n  box-shadow: 0px 10px 20px 0px rgba(0, 0, 0, 0.1)\n}\n\n#envBox-dialog button {\n  z-index: 1;\n  color: white;\n  background: var(--main-deep);\n  outline: none;\n  border: none;\n  padding: 5px 10px;\n  box-sizing: border-box;\n}\n\n.dialog-detail {\n  width: 100%;\n  line-height: 32px;\n  font-size: 14px;\n}\n\n.env-close {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  width: 20px;\n  height: 20px;\n  background: #fff;\n  border-radius: 0 0 0 50%;\n}\n\n/* toast componetnts */\n#envBox-toast {\n  position: fixed;\n  max-width: 80%;\n  word-break: break-all;\n  top: 2%;\n  z-index: 99;\n  padding: 15px;\n  border-radius: 30px;\n  font-size: 14px;\n  color: #fff;\n  box-shadow: 0px 10px 20px 0px rgba(0, 0, 0, 0.1)\n}\n\n.envBox-toast-info {\n  background: var(--common-info);\n}\n\n.envBox-toast-error {\n  background: var(--common-error);\n}\n\n.envBox-toast-warn {\n  background: var(--common-warn);\n}\n\n.envBox-error {\n  border-radius: 5px;\n  color: rgb(255, 255, 255);\n  background: var(--common-error);\n}\n\n.console {\n  width: 100%;\n  display: flex;\n  word-break: break-all;\n  display: inline-block;\n  white-space: nowrap; \n  overflow: hidden;\n  text-overflow:ellipsis;\n  border-radius: 5px;\n}\n\n.console-log {\n  color: #000;\n  background: #fff;\n}\n\n.console-warn {\n  color: rgb(255, 255, 255);\n  background: var(--common-warn);\n}\n\n.console-error {\n  color: rgb(255, 255, 255);\n  background: var(--common-error);\n}\n\n.console-info {\n  color: rgb(255, 255, 255);\n  background: var(--main-deep);\n}\n\n.http {\n  border-radius: 5px;\n  cursor: pointer;\n  line-height: 30px;\n}\n\n.http-start {\n  color: #fff;\n  background: var(--common-info);\n}\n\n.http-suc {\n  color: #fff;\n  background: var(--common-success);\n}\n\n.http-err {\n  color: #fff;\n  background: var(--common-error);\n}\n\n");s("html,\nbody {\n  width: 100%;\n  height: 100%;\n  padding: 0;\n  margin: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n");var l=function(n){try{return JSON.parse(localStorage.getItem(n))}catch(n){console.log(n)}},d=function(n,e){localStorage.setItem(n,JSON.stringify(e))},u=function(n){return Object.prototype.toString.call(n).slice(8,-1).toLowerCase()},f=function(n){return document.querySelector(n)},h=function(e){var t=new WeakSet;return JSON.stringify(e,(function(e,o){if("object"===n(o)&&null!==o){if(t.has(o))return;t.add(o)}return o}))},p={info:"envBox-toast-info",error:"envBox-toast-error",warn:"envBox-toast-warn"},v=function(n,e,t,o){f("#envBox-toast")&&document.body.removeChild(f("#envBox-toast"));var r=document.createElement("div");r.id="envBox-toast",r.className="slide-in-blurred-top ".concat(p[t]),"textDialog"===o&&(r.style.borderRadius="5px"),r.innerHTML=n,document.body.appendChild(r),setTimeout((function(){document.body.removeChild(r)}),e)},m=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;v(n,e,"info","textDialog")},b=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;v(n,e,"info")},g=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;v(n,e,"error")},y=o((function n(t,o){e(this,n);var r=new Map;t.addEventListener("touchstart",(function(n){var e,t=c(n.changedTouches);try{for(t.s();!(e=t.n()).done;){var i=e.value,a=Object.create(null);r.set(i.identifier,a),o.start(i,a)}}catch(n){t.e(n)}finally{t.f()}})),t.addEventListener("touchmove",(function(n){var e,t=c(n.changedTouches);try{for(t.s();!(e=t.n()).done;){var i=e.value,a=r.get(i.identifier);o.move(i,a)}}catch(n){t.e(n)}finally{t.f()}})),t.addEventListener("touchend",(function(n){var e,t=c(n.changedTouches);try{for(t.s();!(e=t.n()).done;){var i=e.value,a=r.get(i.identifier);o.end(i,a),r.delete(i.identifier)}}catch(n){t.e(n)}finally{t.f()}})),t.addEventListener("cancel",(function(n){var e,t=c(n.changedTouches);try{for(t.s();!(e=t.n()).done;){var i=e.value,a=r.get(i.identifier);o.cancel(i,a),r.delete(i.identifier)}}catch(n){t.e(n)}finally{t.f()}}))})),x=function(){function n(t){e(this,n),this.dispatcher=t}return o(n,[{key:"start",value:function(n,e){var t=this;e.startX=n.clientX,e.startY=n.clientY,e.isPan=!1,e.isTap=!0,e.isPress=!1,e.handler=setTimeout((function(){e.isPan=!1,e.isTap=!1,e.isPress=!0,t.dispatcher.dispatch("press",{clientX:n.clientX,clientY:n.clientY}),e.handler=null}),500)}},{key:"move",value:function(n,e){var t=n.clientX-e.startX,o=n.clientY-e.startY,r=Math.pow(t,2)+Math.pow(o,2);!e.isPan&&r>100&&(e.isPan=!0,e.isTap=!1,e.isPress=!1,e.isVertical=Math.abs(t)<Math.abs(o),this.dispatcher.dispatch("panstart",{startX:e.startX,startY:e.startY,clientX:n.clientX,clientY:n.clientY,dx:t,dy:o,isVertical:e.isVertical}),clearTimeout(e.handler)),e.isPan&&this.dispatcher.dispatch("pan",{startX:e.startX,startY:e.startY,clientX:n.clientX,clientY:n.clientY,dx:t,dy:o,isVertical:e.isVertical}),e.points?e.points=e.points.filter((function(n){return Date.now()-n.t<500})):e.points=[],e.points.push({t:Date.now(),x:n.clientX,y:n.clientY})}},{key:"end",value:function(n,e){(e.isFlick=!1,e.isTap&&(this.dispatcher.dispatch("tap",{}),clearTimeout(e.handler)),e.isPan)&&(e.points=e.points.filter((function(n){return Date.now()-n.t<500})),(e.points.length?Math.sqrt(Math.pow(n.clientX-e.points[0].x,2)+Math.pow(n.clientY-e.points[0].y,2))/(Date.now()-e.points[0].t):0)>1.5?(e.isFlick=!0,this.dispatcher.dispatch("flick",{})):(e.isFlick=!1,this.dispatcher.dispatch("panend",{clientX:n.clientX,clientY:n.clientY})));e.isPress&&this.dispatcher.dispatch("panend",{startX:e.startX,startY:e.startY,clientX:n.clientX,clientY:n.clientY,isVertical:e.isVertical,isFlick:e.isFlick})}},{key:"cancel",value:function(n,e){clearTimeout(e.handler)}}]),n}(),w=function(){function n(t){e(this,n),this.element=t}return o(n,[{key:"dispatch",value:function(n,e){var t=new Event(n);for(var o in e)t[o]=e[o];this.element.dispatchEvent(t)}}]),n}();function E(n){new y(n=document.documentElement,new x(new w(n)))}function L(n,e){E(n),e?En.startdevTools(e):En.startdevTools();var t=document.getElementById("envBox");t.style.display="none";var o=0,r=0,i=0,a=0,c=!1,s=0,l=!1,d=!1,u=!1,f=null;e.endTime&&setTimeout((function(){f&&(clearInterval(f),f=null)}),e.endTime),document&&document.documentElement&&document.documentElement.addEventListener("pan",(function(n){o=n.dx,r=n.dy,i=n.startX,a=n.clientX,f||(f=setInterval((function(){o>200&&!c&&(c=!0,s=r),c&&!l&&Math.abs(a-i)<20&&r-s>100&&(l=!0,d=o),c&&l&&!u&&o-d>100&&(b("success unlock"),u=!0,t.style.display="block",clearInterval(f),f=null)}),50))}))}var k='<svg class=\'env-close\' role="img" xmlns="http://www.w3.org/2000/svg" width="48px" height="48px" viewBox="0 0 24 24" aria-labelledby="closeIconTitle" stroke="#0987ee" stroke-width="2" stroke-linecap="round" stroke-linejoin="miter" fill="none" color="#0987ee"> <title id="closeIconTitle">Close</title> <path d="M6.34314575 6.34314575L17.6568542 17.6568542M6.34314575 17.6568542L17.6568542 6.34314575"/> </svg>';const S=n=>{d("global_forbid",!0);let e=document.querySelector("#envBox-dialog");e||(e=document.createElement("div"),e.id="envBox-dialog",e.className="jello-horizontal",document.body.appendChild(e)),e.style.display="block",e.innerHTML&&(e.innerHTML=""),e.innerHTML=n,e.innerHTML+=k,document.querySelector(".env-close").addEventListener("click",(()=>{T()}),!1)},T=()=>{let n=document.querySelector("#envBox-dialog");n.innerHTML="",n.style.display="none",d("global_forbid",!1)},B=n=>{if(!f(".envBox-error"))return;let e=document.querySelector("#envBox-dialog");e&&(e.innerHTML&&(e.innerHTML=""),e.innerHTML+=n,e.innerHTML+=k,document.querySelector(".env-close").addEventListener("click",(()=>{T()}),!1))};var C=["load","loadend","timeout","error","readystatechange","abort"];function M(n,e){var t={};for(var o in n)t[o]=n[o];return t.target=t.currentTarget=e,t}var O=C[0],j=C[1],I=C[2],H=C[3],X=C[4],Y=C[5];function A(n,e){if((e=e||window).__xhr)throw"Ajax is already hooked.";return function(n,e){var t=n.onRequest,o=n.onResponse,r=n.onError;function i(n,e){var t=new R(n),r={response:e.response||e.responseText,status:e.status,statusText:e.statusText,config:n.config,headers:n.resHeader||n.getAllResponseHeaders().split("\r\n").reduce((function(n,e){if(""===e)return n;var t=e.split(":");return n[t.shift()]=function(n){return n.replace(/^\s+|\s+$/g,"")}(t.join(":")),n}),{})};if(!o)return t.resolve(r);o(r,t)}function a(n,e,t,o){var i=new q(n);t={config:n.config,error:t,type:o},r?r(t,i):i.next(t)}function c(){return!0}function s(n){return function(e,t){return a(e,this,t,n),!0}}function l(n,e){return 4===n.readyState&&0!==n.status?i(n,e):4!==n.readyState&&_(n,X),!0}return function(n,e){function t(e){return function(){var t=this.hasOwnProperty(e+"_")?this[e+"_"]:this.xhr[e],o=(n[e]||{}).getter;return o&&o(t,this)||t}}function o(e){return function(t){var o=this.xhr,r=this,i=n[e];if("on"===e.substring(0,2))r[e+"_"]=t,o[e]=function(i){i=M(i,r),n[e]&&n[e].call(r,o,i)||t.call(r,i)};else{var a=(i||{}).setter;t=a&&a(t,r)||t,this[e+"_"]=t;try{o[e]=t}catch(n){}}}}function r(e){return function(){var t=[].slice.call(arguments);if(n[e]){var o=n[e].call(this,t,this.xhr);if(o)return o}return this.xhr[e].apply(this.xhr,t)}}return(e=e||window).__xhr=e.__xhr||e.XMLHttpRequest,e.XMLHttpRequest=function(){for(var n=new e.__xhr,i=0;i<C.length;++i){var a="on"+C[i];void 0===n[a]&&(n[a]=null)}for(var c in n){var s="";try{s=typeof n[c]}catch(n){}"function"===s?this[c]=r(c):Object.defineProperty(this,c,{get:t(c),set:o(c),enumerable:!0})}var l=this;n.getProxy=function(){return l},this.xhr=n},Object.assign(e.XMLHttpRequest,{UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4}),e.__xhr}({onload:c,onloadend:c,onerror:s(H),ontimeout:s(I),onabort:s(Y),onreadystatechange:function(n){return l(n,this)},open:function(n,e){var o=this,r=e.config={headers:{}};r.method=n[0],r.url=n[1],r.async=n[2],r.user=n[3],r.password=n[4],r.xhr=e;var i="on"+X;if(e[i]||(e[i]=function(){return l(e,o)}),t)return!0},send:function(n,e){var o=e.config;if(o.withCredentials=e.withCredentials,o.body=n[0],t){var r=function(){t(o,new D(e))};return!1===o.async?r():setTimeout(r),!0}},setRequestHeader:function(n,e){if(e.config.headers[n[0].toLowerCase()]=n[1],t)return!0},addEventListener:function(n,e){var t=this;if(-1!==C.indexOf(n[0])){var o=n[1];return P(e).addEventListener(n[0],(function(e){var r=M(e,t);r.type=n[0],r.isTrusted=!0,o.call(t,r)})),!0}},getAllResponseHeaders:function(n,e){var t=e.resHeader;if(t){var o="";for(var r in t)o+=r+": "+t[r]+"\r\n";return o}},getResponseHeader:function(n,e){var t=e.resHeader;if(t)return t[(n[0]||"").toLowerCase()]}},e)}(n,e)}function P(n){return n.watcher||(n.watcher=document.createElement("a"))}function _(n,e){var t,o=n.getProxy(),r="on"+e+"_",i=M({type:e},o);o[r]&&o[r](i),"function"==typeof Event?t=new Event(e,{bubbles:!1}):(t=document.createEvent("Event")).initEvent(e,!1,!0),P(n).dispatchEvent(t)}function z(n){this.xhr=n,this.xhrProxy=n.getProxy()}function N(n){function e(n){z.call(this,n)}return e.prototype=Object.create(z.prototype),e.prototype.next=n,e}z.prototype=Object.create({resolve:function(n){var e=this.xhrProxy,t=this.xhr;e.readyState=4,t.resHeader=n.headers,e.response=e.responseText=n.response,e.statusText=n.statusText,e.status=n.status,_(t,X),_(t,O),_(t,j)},reject:function(n){this.xhrProxy.status=0,_(this.xhr,n.type),_(this.xhr,j)}});var D=N((function(n){var e=this.xhr;for(var t in n=n||e.config,e.withCredentials=n.withCredentials,e.open(n.method,n.url,!1!==n.async,n.user,n.password),n.headers)e.setRequestHeader(t,n.headers[t]);e.send(n.body)})),R=N((function(n){this.resolve(n)})),q=N((function(n){this.reject(n)}));var V=!1,J={insertDOM:document.querySelector("#app"),wait:1e3,needSleep:!1,envBoxIdName:"envBox",envBoxExpandIdName:"envBox-expand",envList:["test","dev","prebrand"],watchEnv:!0,watchPerformance:!0,watchError:!0,watchRoutes:!0,watchActions:!0,watchStorage:!0,watchSystem:!0,watchConsole:!0,watchHttp:!0,isNewStorage:!0,watchActionDOMList:[{eventType:"click",domId:".test1",eventId:"001"}],sendOptions:{commonInfo:{pid:"",mid:"",uid:"",did:""},method:"gif",baseURL:"http://localhost:8000"},version:"1.0.0",maxLimit:5,asyncTime:5e3,endTime:1e4},F={errorCount:0,errorSum:"",errorList:[]},U={routeInfo:{url:"",referer:"",title:"",action:"",sendTime:"",triggerTime:""},routesList:[]},W={newStorageList:[],maxLen:5},$={},G={consoleList:[],info:[],error:[],log:[],warn:[]},K={httpList:[],urlList:[]},Q=function(){d("global_forbid",!1)},Z=function(n){var e=n.envBoxIdName,t=n.envBoxExpandIdName,o=n.insertDOM,r=n.watchHttp,i=n.watchSystem,a=n.watchEnv,c=n.watchPerformance,s=n.watchError,d=n.watchRoutes,u=n.watchStorage,f=n.watchConsole,h=document.createElement("div");h.id=e,o.appendChild(h),nn(h),h.addEventListener("click",(function(n){!0!==l("global_forbid")&&(V=!0,h.id=t,a&&un(h),c&&fn(h),s&&hn(h),d&&pn(h),u&&vn(h),i&&mn(h),f&&bn(h),r&&gn(h),yn(h),xn(h),document.querySelectorAll("#envBox-expand button").forEach((function(n){n.ontouchstart=function(){n.style.background="#40a9ff"},n.ontouchend=function(){n.style.background="#0987ee"}})))}),!1),document.addEventListener("click",(function(n){n.target.id!==h.id&&V&&(h.id=e,h.innerHTML="",V=!1)}),!1)},nn=function(n){E();var e=n.offsetWidth,t=n.offsetHeight,o=n.offsetLeft,r=n.offsetTop,i=!1;document.documentElement.addEventListener("panstart",(function(n){n.preventDefault(),i=o-10<n.clientX&&n.clientX<o+e+10&&r-10<n.clientY&&n.clientY<r+t+10})),document.documentElement.addEventListener("panend",(function(e){e.preventDefault(),i&&(n.style.top=e.clientY+"px",r=e.clientY)}))},en=function(n){for(var e in n){null==n[e]&&g("options exist null or undefined----"+e)}},tn=function(){window.addEventListener("error",(function(n){dn("global error"+n.message),B("<div>".concat(F.errorSum,"</div>"))}),!1),window.addEventListener("unhandledrejection",(function(n){dn("promise error"+n.reason),B("<div>".concat(F.errorSum,"</div>"))}),!1)},on=function(){J.watchActionDOMList.forEach((function(n){var e=n.domId&&document.querySelectorAll(n.domId);e&&e.forEach((function(e){e.addEventListener(n.eventType,(function(){wn({type:n.eventType,DOM:n.domId},"action")}))}))}))},rn=function(){U.routeInfo.url=window.location.href,U.routeInfo.title=document.title,window.addEventListener("popstate",(function(n){console.log("routes change",n)}))},an=function(){var n=localStorage.setItem;localStorage.setItem=function(e,t){t=JSON.parse(t);var o=new Event("setItem",{key:t});o.key=e,o.val=t;var r=W.newStorageList.findIndex((function(n){return n[0]===e}));r>-1?(W.newStorageList.splice(r,1),W.newStorageList.unshift([e,t])):W.newStorageList.push([e,t]),window.dispatchEvent(o),n.apply(this,arguments)}},cn=function(){function n(){$=plus.device}window.plus?n():document.addEventListener("plusready",n,!1)},sn=function(){["info","error","log","warn"].forEach((function(n){!function(n){var e=console[n];console[n]=function(){G.consoleList.push({data:arguments[0],type:n}),e.call.apply(e,[console].concat(Array.prototype.slice.call(arguments)))}}(n)}))},ln=function(){A({onRequest:function(n,e){console.log("preWatchHttp----start",n);var t={method:n.method,headers:n["content-type"],url:n.url,body:n.body||""};K.httpList.push(t),K.urlList.push({url:n.url,type:"send"}),e.next(n)},onError:function(n,e){console.log("preWatch----error",n);var t={method:n.config.method,headers:n.config["content-type"],url:n.config.url};K.httpList.push(t),K.urlList.push({url:n.config.url,type:"err"}),e.next(n)},onResponse:function(n,e){console.log("preWatch----success",n);var t={method:n.config.method,headers:n.headers["content-type"],url:n.config.url,status:n.status,response:n.response};K.httpList.push(t),K.urlList.push({url:n.config.url,type:"suc"}),e.next(n)}})},dn=function(n){var e=F.errorList,t=J.asyncTime;if(n&&(e.push(n),F.errorCount+=1,"array"===u(e))){F.errorSum+="".concat(F.errorCount,": ")+n+"<br>";var o={errorSum:F.errorSum};if(F.errorCount>=J.maxLimit)wn(o,"err"),F.errorList=[];else{if(!F.errorList.length)return;setTimeout((function(){F.errorCount<J.maxLimit&&(wn(o,"err"),F.errorList=[])}),t)}}},un=function(n){var e=J.envList,t=document.createElement("button");t.innerText=l("global_env")||"env",t.className="envBtn",n.appendChild(t),t.addEventListener("click",(function(){var n="<div class='dialog-detail'>当前环境: ".concat(l("global_env")||"env","</div>");e.forEach((function(e){n+="<button class='env-btn'>".concat(e,"</button>")})),S(n),document.querySelectorAll(".env-btn").forEach((function(n){n.addEventListener("click",(function(e){V=!1;var o=e.target.textContent;d("global_env",o),n.innerText=o,t.innerText=l("global_env")||"env",d("global_url","https://".concat(o,".zzss.com")),b("已成功修改"+o+"环境")}),!1)}))}),!1)},fn=function(n){var e=document.createElement("button");n.appendChild(e),e.innerText="performance";var t,o,r=window.performance.timing,i=r.domLoading,a=r.navigationStart;t=r.domContentLoadedEventEnd-a,o=r.loadEventEnd-a;var c="<div>首屏开始渲染时间:".concat(i-a,"ms</div><br><div>DOM加载完毕时间:").concat(t,"ms</div><br><div>所有资源及DOM加载完毕时间:").concat(o,"ms</div>");e.onclick=function(){S(c)}},hn=function(n){var e=F.errorSum,t=document.createElement("button");n.appendChild(t),t.innerText="error",t.onclick=function(){e?S("<div class='envBox-error'>".concat(e,"</div>")):b("no error")}},pn=function(n){var e=U.routeInfo,t=document.createElement("button");n.appendChild(t),t.innerText="route",t.onclick=function(){for(var n="",t=0,o=Object.entries(e);t<o.length;t++){var i=r(o[t],2),a=i[0],c=i[1];n+="<div class='envBox-textline'>".concat(a+"->"+c,"</div>")}S(n)}},vn=function(n){var e=J.isNewStorage,t=W.maxLen,o=document.createElement("button");n.appendChild(o),o.innerText="storage",o.onclick=function(){var n,o="",r=null===(n=W.newStorageList)||void 0===n?void 0:n.length;e&&t<r&&W.newStorageList.splice(t,r),W.newStorageList.length?(W.newStorageList.forEach((function(n){var e=n[0],t=JSON.parse(n[1]),r=u(t),i="<div>key: ".concat(e," val: ").concat(t," type: ").concat(r," <br></div>");o+=i})),S(o)):b("no storage")}},mn=function(n){var e=document.createElement("button");n.appendChild(e),e.innerText="system",e.onclick=function(){"{}"!==JSON.stringify($)?S("<div>".concat(JSON.stringify($),"</div>")):b("请在真机webview调试")}},bn=function(e){var t=document.createElement("button");e.appendChild(t),t.innerText="console",t.onclick=function(){var e="";G.consoleList.length?(G.consoleList.forEach((function(t){var o=t.data,r=t.type;if("object"===n(o)){var i=h(o);e+="<div class='console console-".concat(r,"'>").concat(i,"</div>")}else e+="<div class='console console-".concat(r,"'>").concat(o,"</div>")})),S("<div>".concat(e,"</div>")),document.querySelectorAll(".console").forEach((function(e,t){e.addEventListener("click",(function(){var e=G.consoleList[t].data,o="object"===n(e)?h(e):e;m(o,5e3)}),!1)}))):b("no log")}},gn=function(n){var e=document.createElement("button");n.appendChild(e),e.innerText="http",e.onclick=function(){var n="";K.urlList.forEach((function(e,t){n+="<div class='http http-".concat(e.type,"'>").concat(e.url,"</div>")})),S(n),document.querySelectorAll(".http").forEach((function(n,e){n.addEventListener("click",(function(){for(var n="",t=0,o=Object.entries(K.httpList[e]);t<o.length;t++){var i=r(o[t],2),a=i[0],c=i[1];n+="<div>".concat(a,": ").concat(c,"</div> <br>")}m(n,5e3)}),!1)}))}},yn=function(n){var e=document.createElement("button");n.appendChild(e),e.innerText="version",e.onclick=function(){b("当前版本".concat(J.version))}},xn=function(n){var e=document.createElement("button");n.appendChild(e),e.innerText="clear",e.onclick=function(){F.errorList=[],U.routesList=[],W.newStorageList=[],G.consoleList=[],K.httpList=[],b("cache cleared successfully")}},wn=function(n,e,t){"object"===u(n)||e||g("do not input object or type");var o=J.sendOptions,i=o.baseURL,a=o.commonInfo,c=o.method,s=Object.assign({},n,a),l=Object.entries(s).map((function(n){var e=r(n,2),t=e[0],o=e[1];return"".concat(t,"=").concat(o)})).join("&");"gif"!==t&&"gif"!==c||((new Image).src="".concat(i,"?")+encodeURIComponent(l));"beacon"!==t&&"beacon"!==c||navigator.sendBeacon(i,s)},En={startdevTools:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;Q(),Object.assign(J,n),en(J),J.watchError&&tn(),J.watchActions&&on(),J.watchRoutes&&rn(),J.watchStorage&&an(),J.watchSystem&&cn(),J.watchConsole&&sn(),J.watchHttp&&ln();var e=J.needSleep,t=J.wait;e?setTimeout((function(){Z(J)}),t):Z(J)},sendMsg:wn},Ln="Mobile"==(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"Mobile":"Desktop");if(!window)throw g("it is must be brower environment"),new Error("it is must be brower environment");if(!Ln)throw g("it is must be mobile H5 environment"),new Error("it is must be mobile H5 environment");Object.prototype.h5tools={gesture:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"z",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"z"===e&&L(n=document.documentElement,t)},start:En.startdevTools,send:En.sendMsg}}));
