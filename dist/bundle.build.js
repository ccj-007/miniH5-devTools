!function(n){"function"==typeof define&&define.amd?define(n):n()}((function(){"use strict";function n(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
n=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(n,t,e){return Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}),n[t]}try{s({},"")}catch(n){s=function(n,t,e){return n[t]=e}}function l(n,t,e,r){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),a=new k(r||[]);return i._invoke=function(n,t,e){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return S()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var c=w(a,e);if(c){if(c===d)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===r)throw r="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r="executing";var s=u(n,t,e);if("normal"===s.type){if(r=e.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:e.done}}"throw"===s.type&&(r="completed",e.method="throw",e.arg=s.arg)}}}(n,e,a),i}function u(n,t,e){try{return{type:"normal",arg:n.call(t,e)}}catch(n){return{type:"throw",arg:n}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var v={};s(v,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(T([])));g&&g!==e&&r.call(g,i)&&(v=g);var y=p.prototype=f.prototype=Object.create(v);function b(n){["next","throw","return"].forEach((function(t){s(n,t,(function(n){return this._invoke(t,n)}))}))}function x(n,t){function e(o,i,a,c){var s=u(n[o],n,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(n){e("next",n,a,c)}),(function(n){e("throw",n,a,c)})):t.resolve(d).then((function(n){l.value=n,a(l)}),(function(n){return e("throw",n,a,c)}))}c(s.arg)}var o;this._invoke=function(n,r){function i(){return new t((function(t,o){e(n,r,t,o)}))}return o=o?o.then(i,i):i()}}function w(n,t){var e=n.iterator[t.method];if(void 0===e){if(t.delegate=null,"throw"===t.method){if(n.iterator.return&&(t.method="return",t.arg=void 0,w(n,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(e,n.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[n.resultName]=o.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(n){var t={tryLoc:n[0]};1 in n&&(t.catchLoc=n[1]),2 in n&&(t.finallyLoc=n[2],t.afterLoc=n[3]),this.tryEntries.push(t)}function L(n){var t=n.completion||{};t.type="normal",delete t.arg,n.completion=t}function k(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(E,this),this.reset(!0)}function T(n){if(n){var t=n[i];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var e=-1,o=function t(){for(;++e<n.length;)if(r.call(n,e))return t.value=n[e],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=p,s(y,"constructor",p),s(p,"constructor",h),h.displayName=s(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,p):(n.__proto__=p,s(n,c,"GeneratorFunction")),n.prototype=Object.create(y),n},t.awrap=function(n){return{__await:n}},b(x.prototype),s(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(n,e,r,o,i){void 0===i&&(i=Promise);var a=new x(l(n,e,r,o),i);return t.isGeneratorFunction(e)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},b(y),s(y,c,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(n){var t=[];for(var e in n)t.push(e);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in n)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,k.prototype={constructor:k,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!n)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function e(e,r){return a.type="throw",a.arg=n,t.next=e,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(n,t){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===n||"continue"===n)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=n,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),d},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.finallyLoc===n)return this.complete(e.completion,e.afterLoc),L(e),d}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.tryLoc===n){var r=e.completion;if("throw"===r.type){var o=r.arg;L(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(n,t,e){return this.delegate={iterator:T(n),resultName:t,nextLoc:e},"next"===this.method&&(this.arg=void 0),d}},t}function t(n){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t(n)}function e(n,t,e,r,o,i,a){try{var c=n[i](a),s=c.value}catch(n){return void e(n)}c.done?t(s):Promise.resolve(s).then(r,o)}function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function o(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function i(n,t,e){return t&&o(n.prototype,t),e&&o(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function a(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function c(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null==e)return;var r,o,i=[],a=!0,c=!1;try{for(e=e.call(n);!(a=(r=e.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(n){c=!0,o=n}finally{try{a||null==e.return||e.return()}finally{if(c)throw o}}return i}(n,t)||s(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(n,t){if(n){if("string"==typeof n)return l(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?l(n,t):void 0}}function l(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function u(n,t){var e="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=s(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){e=e.call(n)},n:function(){var n=e.next();return a=n.done,n},e:function(n){c=!0,i=n},f:function(){try{a||null==e.return||e.return()}finally{if(c)throw i}}}}function d(n,t){void 0===t&&(t={});var e=t.insertAt;if(n&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===e&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}d(".jello-horizontal {\r\n  -webkit-animation: jello-horizontal .9s both;\r\n  animation: jello-horizontal .9s both\r\n}\r\n\r\n@-webkit-keyframes jello-horizontal {\r\n  0% {\r\n    -webkit-transform: scale3d(1, 1, 1);\r\n    transform: scale3d(1, 1, 1)\r\n  }\r\n\r\n  30% {\r\n    -webkit-transform: scale3d(1.25, .75, 1);\r\n    transform: scale3d(1.25, .75, 1)\r\n  }\r\n\r\n  40% {\r\n    -webkit-transform: scale3d(.75, 1.25, 1);\r\n    transform: scale3d(.75, 1.25, 1)\r\n  }\r\n\r\n  50% {\r\n    -webkit-transform: scale3d(1.15, .85, 1);\r\n    transform: scale3d(1.15, .85, 1)\r\n  }\r\n\r\n  65% {\r\n    -webkit-transform: scale3d(.95, 1.05, 1);\r\n    transform: scale3d(.95, 1.05, 1)\r\n  }\r\n\r\n  75% {\r\n    -webkit-transform: scale3d(1.05, .95, 1);\r\n    transform: scale3d(1.05, .95, 1)\r\n  }\r\n\r\n  100% {\r\n    -webkit-transform: scale3d(1, 1, 1);\r\n    transform: scale3d(1, 1, 1)\r\n  }\r\n}\r\n\r\n@keyframes jello-horizontal {\r\n  0% {\r\n    -webkit-transform: scale3d(1, 1, 1);\r\n    transform: scale3d(1, 1, 1)\r\n  }\r\n\r\n  30% {\r\n    -webkit-transform: scale3d(1.25, .75, 1);\r\n    transform: scale3d(1.25, .75, 1)\r\n  }\r\n\r\n  40% {\r\n    -webkit-transform: scale3d(.75, 1.25, 1);\r\n    transform: scale3d(.75, 1.25, 1)\r\n  }\r\n\r\n  50% {\r\n    -webkit-transform: scale3d(1.15, .85, 1);\r\n    transform: scale3d(1.15, .85, 1)\r\n  }\r\n\r\n  65% {\r\n    -webkit-transform: scale3d(.95, 1.05, 1);\r\n    transform: scale3d(.95, 1.05, 1)\r\n  }\r\n\r\n  75% {\r\n    -webkit-transform: scale3d(1.05, .95, 1);\r\n    transform: scale3d(1.05, .95, 1)\r\n  }\r\n\r\n  100% {\r\n    -webkit-transform: scale3d(1, 1, 1);\r\n    transform: scale3d(1, 1, 1)\r\n  }\r\n}\r\n\r\n.slide-in-blurred-top {\r\n  animation: slide-in-blurred-top .6s cubic-bezier(.23, 1.000, .32, 1.000) both\r\n}\r\n\r\n@keyframes slide-in-blurred-top {\r\n  0% {\r\n    transform: translateY(-1000px) scaleY(2.5) scaleX(.2);\r\n    transform-origin: 50% 0;\r\n    filter: blur(40px);\r\n    opacity: 0\r\n  }\r\n\r\n  100% {\r\n    transform: translateY(0) scaleY(1) scaleX(1);\r\n    transform-origin: 50% 50%;\r\n    filter: blur(0);\r\n    opacity: 1\r\n  }\r\n}");d(":root {\r\n  --primary-deep: #0987ee; \r\n  --primary-light: #40a9ff; \r\n}\r\n\r\n#envBox {\r\n  position: fixed;\r\n  z-index: 999999999999;\r\n  top: 50%;\r\n  right: 0;\r\n  width: 10px;\r\n  height: 60px;\r\n  background: var(--primary-light);\r\n  transition: top .5s linear;\r\n  border-radius: 5px 0 0 5px;\r\n}\r\n\r\n#envBox-expand {\r\n  position: fixed;\r\n  z-index: 9999999999999;\r\n  height: 60px;\r\n  width: 100vw;\r\n  top: 50%;\r\n  right: 0;\r\n  background: var(--primary-light);\r\n  transition: width .5s linear;\r\n}\r\n\r\n#envBox-expand button {\r\n  width: 20%;\r\n  height: 30px;\r\n  z-index: 1;\r\n  color: white;\r\n  background: var(--primary-deep);\r\n  outline: none;\r\n  border: none;\r\n  padding: 0.5em auto;\r\n  box-sizing: border-box;\r\n}\r\n\r\n#envBox-expand span {\r\n  color: #ffffff;\r\n  font-size: 14px;\r\n}\r\n\r\n\r\n.envBox-textline {\r\n  line-height: 20px;\r\n}\r\n");d("/* dialog componetnts */\r\n:root {\r\n  --main-moredeep: #194c75;\r\n  --main-deep: #0987ee;\r\n  --main-light: #40a9ff;\r\n\r\n  --common-info: #40a9ff;\r\n  --common-warn: #ffa20d;\r\n  --common-error: #ff2a2a;\r\n  --common-success: #00d41c;\r\n}\r\n\r\n#envBox-dialog {\r\n  position: fixed;\r\n  font-size: 14px;\r\n  max-width: 80%;\r\n  z-index: 99;\r\n  background: var(--main-light);\r\n  padding: 20px;\r\n  border-radius: 5px;\r\n  color: #fff;\r\n  box-shadow: 0px 10px 20px 0px rgba(0, 0, 0, 0.1)\r\n}\r\n\r\n#envBox-dialog button {\r\n  z-index: 1;\r\n  color: white;\r\n  background: var(--main-deep);\r\n  outline: none;\r\n  border: none;\r\n  padding: 5px 10px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.dialog-detail {\r\n  width: 100%;\r\n  line-height: 32px;\r\n  font-size: 14px;\r\n}\r\n\r\n.env-close {\r\n  position: absolute;\r\n  top: 0px;\r\n  right: 0px;\r\n  width: 20px;\r\n  height: 20px;\r\n  background: #fff;\r\n  border-radius: 0 0 0 50%;\r\n}\r\n\r\n/* toast componetnts */\r\n#envBox-toast {\r\n  position: fixed;\r\n  max-width: 80%;\r\n  word-break: break-all;\r\n  top: 2%;\r\n  z-index: 99;\r\n  padding: 15px;\r\n  border-radius: 30px;\r\n  font-size: 14px;\r\n  color: #fff;\r\n  box-shadow: 0px 10px 20px 0px rgba(0, 0, 0, 0.1)\r\n}\r\n\r\n.envBox-toast-info {\r\n  background: var(--common-info);\r\n}\r\n\r\n.envBox-toast-error {\r\n  background: var(--common-error);\r\n}\r\n\r\n.envBox-toast-warn {\r\n  background: var(--common-warn);\r\n}\r\n\r\n.envBox-error {\r\n  border-radius: 5px;\r\n  color: rgb(255, 255, 255);\r\n  background: var(--common-error);\r\n}\r\n\r\n.console,\r\n.http {\r\n  width: 100%;\r\n  display: flex;\r\n  word-break: break-all;\r\n  display: inline-block;\r\n  border-radius: 5px;\r\n\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.console-log {\r\n  color: #000;\r\n  background: #fff;\r\n}\r\n\r\n.console-warn {\r\n  color: rgb(255, 255, 255);\r\n  background: var(--common-warn);\r\n}\r\n\r\n.console-error {\r\n  color: rgb(255, 255, 255);\r\n  background: var(--common-error);\r\n}\r\n\r\n.console-info {\r\n  color: rgb(255, 255, 255);\r\n  background: var(--main-deep);\r\n}\r\n\r\n\r\n\r\n.http-start {\r\n  color: #fff;\r\n  background: var(--common-info);\r\n}\r\n\r\n.http-suc {\r\n  color: #fff;\r\n  background: var(--common-success);\r\n}\r\n\r\n.http-err {\r\n  color: #fff;\r\n  background: var(--common-error);\r\n}\r\n\r\n.xn {\r\n  color: #fff;\r\n  border-radius: 5px;\r\n}\r\n\r\n.xn-quick {\r\n  background: var(--common-success);\r\n}\r\n\r\n.xn-mid {\r\n  background: var(--common-warn);\r\n}\r\n\r\n.xn-low {\r\n  background: var(--common-error);\r\n}\r\n\r\n.storage-box {\r\n  border-radius: 2px;\r\n  word-break: break-all;\r\n  background: var(--main-deep);\r\n  width: 100%;\r\n  display: flex;\r\n  word-break: break-all;\r\n  display: inline-block;\r\n  border-radius: 5px;\r\n}\r\n\r\n.storage-key {\r\n  background: var(--main-moredeep);\r\n}");d("html,\r\nbody {\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 0;\r\n  font-size: 16px;\r\n  margin: 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.envBox-inlineText {\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}");var f=function(n){try{return JSON.parse(localStorage.getItem(n))}catch(n){console.log(n)}},h=function(n,t){localStorage.setItem(n,JSON.stringify(t))},p=function(n){return Object.prototype.toString.call(n).slice(8,-1).toLowerCase()},v=function(n){return document.querySelector(n)},m=function(n){var e=new WeakSet;return JSON.stringify(n,(function(n,r){if("object"===t(r)&&null!==r){if(e.has(r))return;e.add(r)}return r}))},g={info:"envBox-toast-info",error:"envBox-toast-error",warn:"envBox-toast-warn"},y=function(n,t,e,r){v("#envBox-toast")&&document.body.removeChild(v("#envBox-toast"));var o=document.createElement("div");o.id="envBox-toast",o.className="slide-in-blurred-top ".concat(g[e]),"textDialog"===r&&(o.style.borderRadius="5px",o.style.borderRadius="5px"),o.innerHTML=n,document.body.appendChild(o),setTimeout((function(){document.body.removeChild(o)}),t)},b=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;y(n,t,"info","textDialog")},x=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;y(n,t,"info")},w=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;y(n,t,"error")},E=i((function n(t,e){r(this,n);var o=new Map;t.addEventListener("touchstart",(function(n){var t,r=u(n.changedTouches);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=Object.create(null);o.set(i.identifier,a),e.start(i,a)}}catch(n){r.e(n)}finally{r.f()}})),t.addEventListener("touchmove",(function(n){var t,r=u(n.changedTouches);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=o.get(i.identifier);e.move(i,a)}}catch(n){r.e(n)}finally{r.f()}})),t.addEventListener("touchend",(function(n){var t,r=u(n.changedTouches);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=o.get(i.identifier);e.end(i,a),o.delete(i.identifier)}}catch(n){r.e(n)}finally{r.f()}})),t.addEventListener("cancel",(function(n){var t,r=u(n.changedTouches);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=o.get(i.identifier);e.cancel(i,a),o.delete(i.identifier)}}catch(n){r.e(n)}finally{r.f()}}))})),L=function(){function n(t){r(this,n),this.dispatcher=t}return i(n,[{key:"start",value:function(n,t){var e=this;t.startX=n.clientX,t.startY=n.clientY,t.isPan=!1,t.isTap=!0,t.isPress=!1,t.handler=setTimeout((function(){t.isPan=!1,t.isTap=!1,t.isPress=!0,e.dispatcher.dispatch("press",{clientX:n.clientX,clientY:n.clientY}),t.handler=null}),500)}},{key:"move",value:function(n,t){var e=n.clientX-t.startX,r=n.clientY-t.startY,o=Math.pow(e,2)+Math.pow(r,2);!t.isPan&&o>100&&(t.isPan=!0,t.isTap=!1,t.isPress=!1,t.isVertical=Math.abs(e)<Math.abs(r),this.dispatcher.dispatch("panstart",{startX:t.startX,startY:t.startY,clientX:n.clientX,clientY:n.clientY,dx:e,dy:r,isVertical:t.isVertical}),clearTimeout(t.handler)),t.isPan&&this.dispatcher.dispatch("pan",{startX:t.startX,startY:t.startY,clientX:n.clientX,clientY:n.clientY,dx:e,dy:r,isVertical:t.isVertical}),t.points?t.points=t.points.filter((function(n){return Date.now()-n.t<500})):t.points=[],t.points.push({t:Date.now(),x:n.clientX,y:n.clientY})}},{key:"end",value:function(n,t){(t.isFlick=!1,t.isTap&&(this.dispatcher.dispatch("tap",{}),clearTimeout(t.handler)),t.isPan)&&(t.points=t.points.filter((function(n){return Date.now()-n.t<500})),(t.points.length?Math.sqrt(Math.pow(n.clientX-t.points[0].x,2)+Math.pow(n.clientY-t.points[0].y,2))/(Date.now()-t.points[0].t):0)>1.5?(t.isFlick=!0,this.dispatcher.dispatch("flick",{})):(t.isFlick=!1,this.dispatcher.dispatch("panend",{clientX:n.clientX,clientY:n.clientY})));t.isPress&&this.dispatcher.dispatch("panend",{startX:t.startX,startY:t.startY,clientX:n.clientX,clientY:n.clientY,isVertical:t.isVertical,isFlick:t.isFlick})}},{key:"cancel",value:function(n,t){clearTimeout(t.handler)}}]),n}(),k=function(){function n(t){r(this,n),this.element=t}return i(n,[{key:"dispatch",value:function(n,t){var e=new Event(n);for(var r in t)e[r]=t[r];this.element.dispatchEvent(e)}}]),n}();function T(n){new E(n=document.documentElement,new L(new k(n)))}function S(n,t){T(n),t?Sn.startdevTools(t):Sn.startdevTools();var e=document.getElementById("envBox");e.style.display="none";var r=0,o=0,i=0,a=0,c=!1,s=0,l=!1,u=!1,d=!1,f=null;t.endTime&&setTimeout((function(){f&&(clearInterval(f),f=null)}),t.endTime),document&&document.documentElement&&document.documentElement.addEventListener("pan",(function(n){r=n.dx,o=n.dy,i=n.startX,a=n.clientX,f||(f=setInterval((function(){r>200&&!c&&(c=!0,s=o),c&&!l&&Math.abs(a-i)<20&&o-s>100&&(l=!0,u=r),c&&l&&!d&&r-u>100&&(x("success unlock"),d=!0,e.style.display="block",clearInterval(f),f=null)}),50))}))}var O='<svg class=\'env-close\' role="img" xmlns="http://www.w3.org/2000/svg" width="48px" height="48px" viewBox="0 0 24 24" aria-labelledby="closeIconTitle" stroke="#0987ee" stroke-width="2" stroke-linecap="round" stroke-linejoin="miter" fill="none" color="#0987ee"> <title id="closeIconTitle">Close</title> <path d="M6.34314575 6.34314575L17.6568542 17.6568542M6.34314575 17.6568542L17.6568542 6.34314575"/> </svg>';const C=n=>{h("global_forbid",!0);let t=document.querySelector("#envBox-dialog");t||(t=document.createElement("div"),t.id="envBox-dialog",t.className="jello-horizontal",document.body.appendChild(t)),t.style.display="block",t.innerHTML&&(t.innerHTML=""),t.innerHTML=n,t.innerHTML+=O,document.querySelector(".env-close").addEventListener("click",(()=>{N()}),!1)},N=()=>{let n=document.querySelector("#envBox-dialog");n.innerHTML="",n.style.display="none",h("global_forbid",!1)},I=n=>{if(!v(".envBox-error"))return;let t=document.querySelector("#envBox-dialog");t&&(t.innerHTML&&(t.innerHTML=""),t.innerHTML+=n,t.innerHTML+=O,document.querySelector(".env-close").addEventListener("click",(()=>{N()}),!1))};var j=["load","loadend","timeout","error","readystatechange","abort"];function _(n,t){var e={};for(var r in n)e[r]=n[r];return e.target=e.currentTarget=t,e}var B=j[0],M=j[1],P=j[2],H=j[3],Y=j[4],X=j[5];function A(n,t){if((t=t||window).__xhr)throw"Ajax is already hooked.";return function(n,t){var e=n.onRequest,r=n.onResponse,o=n.onError;function i(n,t){var e=new G(n),o={response:t.response||t.responseText,status:t.status,statusText:t.statusText,config:n.config,headers:n.resHeader||n.getAllResponseHeaders().split("\r\n").reduce((function(n,t){if(""===t)return n;var e=t.split(":");return n[e.shift()]=function(n){return n.replace(/^\s+|\s+$/g,"")}(e.join(":")),n}),{})};if(!r)return e.resolve(o);r(o,e)}function a(n,t,e,r){var i=new W(n);e={config:n.config,error:e,type:r},o?o(e,i):i.next(e)}function c(){return!0}function s(n){return function(t,e){return a(t,this,e,n),!0}}function l(n,t){return 4===n.readyState&&0!==n.status?i(n,t):4!==n.readyState&&R(n,Y),!0}return function(n,t){function e(t){return function(){var e=this.hasOwnProperty(t+"_")?this[t+"_"]:this.xhr[t],r=(n[t]||{}).getter;return r&&r(e,this)||e}}function r(t){return function(e){var r=this.xhr,o=this,i=n[t];if("on"===t.substring(0,2))o[t+"_"]=e,r[t]=function(i){i=_(i,o),n[t]&&n[t].call(o,r,i)||e.call(o,i)};else{var a=(i||{}).setter;e=a&&a(e,o)||e,this[t+"_"]=e;try{r[t]=e}catch(n){}}}}function o(t){return function(){var e=[].slice.call(arguments);if(n[t]){var r=n[t].call(this,e,this.xhr);if(r)return r}return this.xhr[t].apply(this.xhr,e)}}return(t=t||window).__xhr=t.__xhr||t.XMLHttpRequest,t.XMLHttpRequest=function(){for(var n=new t.__xhr,i=0;i<j.length;++i){var a="on"+j[i];void 0===n[a]&&(n[a]=null)}for(var c in n){var s="";try{s=typeof n[c]}catch(n){}"function"===s?this[c]=o(c):Object.defineProperty(this,c,{get:e(c),set:r(c),enumerable:!0})}var l=this;n.getProxy=function(){return l},this.xhr=n},Object.assign(t.XMLHttpRequest,{UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4}),t.__xhr}({onload:c,onloadend:c,onerror:s(H),ontimeout:s(P),onabort:s(X),onreadystatechange:function(n){return l(n,this)},open:function(n,t){var r=this,o=t.config={headers:{}};o.method=n[0],o.url=n[1],o.async=n[2],o.user=n[3],o.password=n[4],o.xhr=t;var i="on"+Y;if(t[i]||(t[i]=function(){return l(t,r)}),e)return!0},send:function(n,t){var r=t.config;if(r.withCredentials=t.withCredentials,r.body=n[0],e){var o=function(){e(r,new F(t))};return!1===r.async?o():setTimeout(o),!0}},setRequestHeader:function(n,t){if(t.config.headers[n[0].toLowerCase()]=n[1],e)return!0},addEventListener:function(n,t){var e=this;if(-1!==j.indexOf(n[0])){var r=n[1];return z(t).addEventListener(n[0],(function(t){var o=_(t,e);o.type=n[0],o.isTrusted=!0,r.call(e,o)})),!0}},getAllResponseHeaders:function(n,t){var e=t.resHeader;if(e){var r="";for(var o in e)r+=o+": "+e[o]+"\r\n";return r}},getResponseHeader:function(n,t){var e=t.resHeader;if(e)return e[(n[0]||"").toLowerCase()]}},t)}(n,t)}function z(n){return n.watcher||(n.watcher=document.createElement("a"))}function R(n,t){var e,r=n.getProxy(),o="on"+t+"_",i=_({type:t},r);r[o]&&r[o](i),"function"==typeof Event?e=new Event(t,{bubbles:!1}):(e=document.createEvent("Event")).initEvent(t,!1,!0),z(n).dispatchEvent(e)}function q(n){this.xhr=n,this.xhrProxy=n.getProxy()}function D(n){function t(n){q.call(this,n)}return t.prototype=Object.create(q.prototype),t.prototype.next=n,t}q.prototype=Object.create({resolve:function(n){var t=this.xhrProxy,e=this.xhr;t.readyState=4,e.resHeader=n.headers,t.response=t.responseText=n.response,t.statusText=n.statusText,t.status=n.status,R(e,Y),R(e,B),R(e,M)},reject:function(n){this.xhrProxy.status=0,R(this.xhr,n.type),R(this.xhr,M)}});var F=D((function(n){var t=this.xhr;for(var e in n=n||t.config,t.withCredentials=n.withCredentials,t.open(n.method,n.url,!1!==n.async,n.user,n.password),n.headers)t.setRequestHeader(e,n.headers[e]);t.send(n.body)})),G=D((function(n){this.resolve(n)})),W=D((function(n){this.reject(n)}));var V=!1,J={insertDOM:document.querySelector("#app"),wait:1e3,needSleep:!1,envBoxIdName:"envBox",envBoxExpandIdName:"envBox-expand",envList:["test","dev","prebrand"],watchEnv:!0,watchPerformance:!0,watchError:!0,watchRoutes:!0,watchActions:!0,watchStorage:!0,watchSystem:!0,watchConsole:!0,watchHttp:!0,isNewStorage:!0,watchActionDOMList:[{eventType:"click",domId:".test1",eventId:"001"}],sendOptions:{commonInfo:{pid:"",mid:"",uid:"",did:""},method:"gif",baseURL:"http://localhost:8000"},version:"1.0.0",maxLimit:5,asyncTime:5e3,endTime:1e4},U={errorCount:0,errorSum:"",errorList:[]},$={FP:[30,100],DCL:[500,1200],L:[600,2e3]},K={routeInfo:{url:"",referer:"",title:"",action:"",sendTime:"",triggerTime:""},routesList:[]},Q={newStorageList:[],maxLen:5},Z={},nn={consoleList:[],info:[],error:[],log:[],warn:[]},tn={httpList:[],urlList:[]},en=function(){h("global_forbid",!1)},rn=function(n){var t=n.envBoxIdName,e=n.envBoxExpandIdName,r=n.insertDOM,o=n.watchHttp,i=n.watchSystem,a=n.watchEnv,c=n.watchPerformance,s=n.watchError,l=n.watchRoutes,u=n.watchStorage,d=n.watchConsole,h=document.createElement("div");h.id=t,r.appendChild(h),on(h),h.addEventListener("click",(function(n){!0!==f("global_forbid")&&(V=!0,h.id=e,a&&vn(h),c&&mn(h),s&&gn(h),l&&yn(h),u&&bn(h),i&&xn(h),d&&wn(h),o&&En(h),Ln(h),kn(h),document.querySelectorAll("#envBox-expand button").forEach((function(n){n.ontouchstart=function(){n.style.background="#40a9ff"},n.ontouchend=function(){n.style.background="#0987ee"}})))}),!1),document.addEventListener("click",(function(n){n.target.id!==h.id&&V&&(h.id=t,h.innerHTML="",V=!1)}),!1)},on=function(n){T();var t=n.offsetWidth,e=n.offsetHeight,r=n.offsetLeft,o=n.offsetTop,i=!1;document.documentElement.addEventListener("panstart",(function(n){n.preventDefault(),i=r-10<n.clientX&&n.clientX<r+t+10&&o-10<n.clientY&&n.clientY<o+e+10})),document.documentElement.addEventListener("panend",(function(t){t.preventDefault(),i&&(n.style.top=t.clientY+"px",o=t.clientY)}))},an=function(n){for(var t in n){null==n[t]&&w("options exist null or undefined----"+t)}},cn=function(){window.addEventListener("error",(function(n){pn("global error"+n.message),I("<div>".concat(U.errorSum,"</div>"))}),!1),window.addEventListener("unhandledrejection",(function(n){pn("promise error"+n.reason),I("<div>".concat(U.errorSum,"</div>"))}),!1)},sn=function(){J.watchActionDOMList.forEach((function(n){var t=n.domId&&document.querySelectorAll(n.domId);t&&t.forEach((function(t){t.addEventListener(n.eventType,(function(){Tn({type:n.eventType,DOM:n.domId},"action")}))}))}))},ln=function(){K.routeInfo.url=window.location.href,K.routeInfo.title=document.title,window.addEventListener("popstate",(function(n){console.log("routes change",n)}))},un=function(){var n=localStorage.setItem;localStorage.setItem=function(t,e){e=m(e);var r=new Event("setItem",{key:e});r.key=t,r.val=e;var o=Q.newStorageList.findIndex((function(n){return n[0]===t}));o>-1?(Q.newStorageList.splice(o,1),Q.newStorageList.unshift([t,e])):Q.newStorageList.push([t,e]),window.dispatchEvent(r),n.apply(this,arguments)}},dn=function(){var t,r=(t=n().mark((function t(){var e;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=function(){plus.geolocation.getCurrentPosition((function(n){console.log(JSON.stringify(n)),Z.latitude=n.coords.latitude,Z.longitude=n.coords.longitude,Z.altitude=n.coords.altitude,Z.accuracy=n.coords.accuracy,Z.country=n.address.country,Z.city=n.address.city,Z.district=n.address.district,Z.street=n.address.street,Z.streetNum=n.address.streetNum,Z.poiName=n.address.poiName,Z.postalCode=n.address.postalCode,Z.cityCode=n.address.cityCode,Z.addresses=n.addresses}),(function(n){alert("Geolocation error: "+n.message)})),plus.device.getInfo({success:function(n){var t;a(t={IMEI:n.imei,IMSI:n.imsi,uuid:n.uuid,Model:plus.device.model,vendor:plus.device.vendor,dpiX:plus.screen.dpiX,dpiY:plus.screen.dpiY,height:plus.screen.height,width:plus.screen.width,resolutionHeight:plus.screen.resolutionHeight,resolutionWidth:plus.screen.resolutionWidth,scale:plus.screen.scale,CONNECTION_NONE:plus.networkinfo.CONNECTION_NONE,CONNECTION_ETHERNET:plus.networkinfo.CONNECTION_ETHERNET,CONNECTION_WIFI:plus.networkinfo.CONNECTION_WIFI,language:plus.os.language,name:plus.os.name},"vendor",plus.os.vendor),a(t,"version",plus.os.version),a(t,"language",plus.os.language),Z=t}})},window.plus?e():document.addEventListener("plusready",e,!1);case 2:case"end":return n.stop()}}),t)})),function(){var n=this,r=arguments;return new Promise((function(o,i){var a=t.apply(n,r);function c(n){e(a,o,i,c,s,"next",n)}function s(n){e(a,o,i,c,s,"throw",n)}c(void 0)}))});return function(){return r.apply(this,arguments)}}(),fn=function(){["info","error","log","warn"].forEach((function(n){!function(n){var t=console[n];console[n]=function(){nn.consoleList.push({data:arguments[0],type:n}),t.call.apply(t,[console].concat(Array.prototype.slice.call(arguments)))}}(n)}))},hn=function(){A({onRequest:function(n,t){console.log("preWatchHttp----start",n);var e={method:n.method,headers:n["content-type"],url:n.url,body:n.body||""};tn.httpList.push(e),tn.urlList.push({url:n.url,type:"send"}),t.next(n)},onError:function(n,t){console.log("preWatch----error",n);var e={method:n.config.method,headers:n.config["content-type"],url:n.config.url};tn.httpList.push(e),tn.urlList.push({url:n.config.url,type:"err"}),t.next(n)},onResponse:function(n,t){console.log("preWatch----success",n);var e={method:n.config.method,headers:n.headers["content-type"],url:n.config.url,status:n.status,response:n.response};tn.httpList.push(e),tn.urlList.push({url:n.config.url,type:"suc"}),t.next(n)}})},pn=function(n){var t=U.errorList,e=J.asyncTime;if(n&&(t.push(n),U.errorCount+=1,"array"===p(t))){U.errorSum+="".concat(U.errorCount,": ")+n+"<br>";var r={errorSum:U.errorSum};if(U.errorCount>=J.maxLimit)Tn(r,"err"),U.errorList=[];else{if(!U.errorList.length)return;setTimeout((function(){U.errorCount<J.maxLimit&&(Tn(r,"err"),U.errorList=[])}),e)}}},vn=function(n){var t=J.envList,e=document.createElement("button");e.innerText=f("global_env")||"env",e.className="envBtn",n.appendChild(e),e.addEventListener("click",(function(){var n="<div class='dialog-detail'>当前环境: ".concat(f("global_env")||"env","</div>");t.forEach((function(t){n+="<button class='env-btn'>".concat(t,"</button>")})),C(n),document.querySelectorAll(".env-btn").forEach((function(n){n.addEventListener("click",(function(t){V=!1;var r=t.target.textContent;h("global_env",r),n.innerText=r,e.innerText=f("global_env")||"env",h("global_url","https://".concat(r,".zzss.com")),x("已成功修改"+r+"环境")}),!1)}))}),!1)},mn=function(n){var t=document.createElement("button");n.appendChild(t),t.innerText="performance";var e,r,o,i=window.performance.timing,a=i.domLoading,c=i.navigationStart;function s(n,t){var e=$[n];return t<e[0]?"xn-quick xn":t>e[1]?"xn-low xn":"xn-mid xn"}r=i.domContentLoadedEventEnd-c,o=i.loadEventEnd-c;var l="<div>首屏渲染: <span class=".concat(s("FP",e=a-c),">").concat(e,"ms</span></div><br><div>DOM加载完毕: <span class=").concat(s("DCL",r),">").concat(r,"ms</span></div><br><div>图片、样式等外链资源加载完成: <span class=").concat(s("L",o),">").concat(o,"ms</span></div>");t.onclick=function(){C(l)}},gn=function(n){var t=U.errorSum,e=document.createElement("button");n.appendChild(e),e.innerText="error",e.onclick=function(){t?C("<div class='envBox-error'>".concat(t,"</div>")):x("no error")}},yn=function(n){var t=K.routeInfo,e=document.createElement("button");n.appendChild(e),e.innerText="route",e.onclick=function(){for(var n="",e=0,r=Object.entries(t);e<r.length;e++){var o=c(r[e],2),i=o[0],a=o[1];n+="<div class='envBox-textline'>".concat(i+"->"+a,"</div>")}C(n)}},bn=function(n){var t=J.isNewStorage,e=Q.maxLen,r=document.createElement("button");n.appendChild(r),r.innerText="storage",r.onclick=function(){var n,r="",o=[],i=null===(n=Q.newStorageList)||void 0===n?void 0:n.length;(t&&e<i&&Q.newStorageList.splice(e,i),Q.newStorageList.length)?(Q.newStorageList.forEach((function(n,t){var e=n[0],i=JSON.parse(m(n[1])),a=p(i),c="<div class='envBox-inlineText storage-box'><span class='storage-key'>key: </span><span >".concat(e,"</span> <span class='storage-key'>val: </span><span >").concat(i,"</span> <span class='storage-key'>type: </span><span >").concat(a,"</span> <br></div>");r+=c;var s=c.replace("envBox-inlineText","");o.push(s)})),C(r),document.querySelectorAll(".storage-box").forEach((function(n,t){n.addEventListener("click",(function(){b(o[t],5e3)}),!1)}))):x("no storage")}},xn=function(n){var t=document.createElement("button");n.appendChild(t),t.innerText="system",t.onclick=function(){if("{}"!==JSON.stringify(Z)){for(var n="",t=0,e=Object.entries(Z);t<e.length;t++){var r=c(e[t],2),o=r[0],i=r[1];n+="<div>".concat(o,": ").concat(i,"</div>")}C(n)}else x("请在webview中调试")}},wn=function(n){var e=document.createElement("button");n.appendChild(e),e.innerText="console",e.onclick=function(){var n="";nn.consoleList.length?(nn.consoleList.forEach((function(e){var r=e.data,o=e.type;if("object"===t(r)){var i=m(r);n+="<div class='console console-".concat(o,"'>").concat(i,"</div>")}else n+="<div class='console console-".concat(o,"'>").concat(r,"</div>")})),C("<div>".concat(n,"</div>")),document.querySelectorAll(".console").forEach((function(n,e){n.addEventListener("click",(function(){var n=nn.consoleList[e].data,r="object"===t(n)?m(n):n;b(r,5e3)}),!1)}))):x("no log")}},En=function(n){var t=document.createElement("button");n.appendChild(t),t.innerText="http",t.onclick=function(){var n="";tn.urlList.forEach((function(t,e){n+="<div class='http http-".concat(t.type,"'>").concat(t.url,"</div>")})),C(n),document.querySelectorAll(".http").forEach((function(n,t){n.addEventListener("click",(function(){for(var n="",e=0,r=Object.entries(tn.httpList[t]);e<r.length;e++){var o=c(r[e],2),i=o[0],a=o[1];n+="<div>".concat(i,": ").concat(a,"</div> ")}b(n,5e3)}),!1)}))}},Ln=function(n){var t=document.createElement("button");n.appendChild(t),t.innerText="version",t.onclick=function(){x("当前版本".concat(J.version))}},kn=function(n){var t=document.createElement("button");n.appendChild(t),t.innerText="clear",t.onclick=function(){U.errorList=[],K.routesList=[],Q.newStorageList=[],nn.consoleList=[],tn.httpList=[],x("cache cleared successfully")}},Tn=function(n,t,e){"object"===p(n)||t||w("do not input object or type");var r=J.sendOptions,o=r.baseURL,i=r.commonInfo,a=r.method,s=Object.assign({},n,i),l=Object.entries(s).map((function(n){var t=c(n,2),e=t[0],r=t[1];return"".concat(e,"=").concat(r)})).join("&");"gif"!==e&&"gif"!==a||((new Image).src="".concat(o,"?")+encodeURIComponent(l));"beacon"!==e&&"beacon"!==a||navigator.sendBeacon(o,s)},Sn={startdevTools:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;en(),Object.assign(J,n),an(J),J.watchError&&cn(),J.watchActions&&sn(),J.watchRoutes&&ln(),J.watchStorage&&un(),J.watchSystem&&dn(),J.watchConsole&&fn(),J.watchHttp&&hn();var t=J.needSleep,e=J.wait;t?setTimeout((function(){rn(J)}),e):rn(J)},sendMsg:Tn},On="Mobile"==(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"Mobile":"Desktop");window||w("it is must be brower environment"),On||w("it is must be mobile H5 environment"),Object.prototype.h5tools={gesture:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"z",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"z"===t&&S(n=document.documentElement,e)},start:Sn.startdevTools,send:Sn.sendMsg}}));
