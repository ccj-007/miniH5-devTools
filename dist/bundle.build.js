!function(n){"function"==typeof define&&define.amd?define(n):n()}((function(){"use strict";function n(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
n=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(n,t,e){return Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}),n[t]}try{s({},"")}catch(n){s=function(n,t,e){return n[t]=e}}function l(n,t,e,r){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),a=new T(r||[]);return i._invoke=function(n,t,e){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return S()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var c=b(a,e);if(c){if(c===d)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===r)throw r="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r="executing";var s=u(n,t,e);if("normal"===s.type){if(r=e.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:e.done}}"throw"===s.type&&(r="completed",e.method="throw",e.arg=s.arg)}}}(n,e,a),i}function u(n,t,e){try{return{type:"normal",arg:n.call(t,e)}}catch(n){return{type:"throw",arg:n}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var v={};s(v,i,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(k([])));y&&y!==e&&r.call(y,i)&&(v=y);var g=p.prototype=f.prototype=Object.create(v);function w(n){["next","throw","return"].forEach((function(t){s(n,t,(function(n){return this._invoke(t,n)}))}))}function x(n,t){function e(o,i,a,c){var s=u(n[o],n,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(n){e("next",n,a,c)}),(function(n){e("throw",n,a,c)})):t.resolve(d).then((function(n){l.value=n,a(l)}),(function(n){return e("throw",n,a,c)}))}c(s.arg)}var o;this._invoke=function(n,r){function i(){return new t((function(t,o){e(n,r,t,o)}))}return o=o?o.then(i,i):i()}}function b(n,t){var e=n.iterator[t.method];if(void 0===e){if(t.delegate=null,"throw"===t.method){if(n.iterator.return&&(t.method="return",t.arg=void 0,b(n,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(e,n.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[n.resultName]=o.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function L(n){var t={tryLoc:n[0]};1 in n&&(t.catchLoc=n[1]),2 in n&&(t.finallyLoc=n[2],t.afterLoc=n[3]),this.tryEntries.push(t)}function E(n){var t=n.completion||{};t.type="normal",delete t.arg,n.completion=t}function T(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(L,this),this.reset(!0)}function k(n){if(n){var t=n[i];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var e=-1,o=function t(){for(;++e<n.length;)if(r.call(n,e))return t.value=n[e],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,p):(n.__proto__=p,s(n,c,"GeneratorFunction")),n.prototype=Object.create(g),n},t.awrap=function(n){return{__await:n}},w(x.prototype),s(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(n,e,r,o,i){void 0===i&&(i=Promise);var a=new x(l(n,e,r,o),i);return t.isGeneratorFunction(e)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},w(g),s(g,c,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(n){var t=[];for(var e in n)t.push(e);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in n)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=k,T.prototype={constructor:T,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!n)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function e(e,r){return a.type="throw",a.arg=n,t.next=e,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(n,t){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===n||"continue"===n)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=n,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),d},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.finallyLoc===n)return this.complete(e.completion,e.afterLoc),E(e),d}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.tryLoc===n){var r=e.completion;if("throw"===r.type){var o=r.arg;E(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(n,t,e){return this.delegate={iterator:k(n),resultName:t,nextLoc:e},"next"===this.method&&(this.arg=void 0),d}},t}function t(n){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t(n)}function e(n,t,e,r,o,i,a){try{var c=n[i](a),s=c.value}catch(n){return void e(n)}c.done?t(s):Promise.resolve(s).then(r,o)}function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function o(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function i(n,t,e){return t&&o(n.prototype,t),e&&o(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function a(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function c(n){throw new TypeError('"'+n+'" is read-only')}function s(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null==e)return;var r,o,i=[],a=!0,c=!1;try{for(e=e.call(n);!(a=(r=e.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(n){c=!0,o=n}finally{try{a||null==e.return||e.return()}finally{if(c)throw o}}return i}(n,t)||l(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(n,t){if(n){if("string"==typeof n)return u(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?u(n,t):void 0}}function u(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function d(n,t){var e="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=l(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){e=e.call(n)},n:function(){var n=e.next();return a=n.done,n},e:function(n){c=!0,i=n},f:function(){try{a||null==e.return||e.return()}finally{if(c)throw i}}}}function f(n,t){void 0===t&&(t={});var e=t.insertAt;if(n&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===e&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}f(".jello-horizontal {\r\n  animation: tilt-in-left-1 .6s cubic-bezier(.25, .46, .45, .94) both\r\n}\r\n\r\n@keyframes tilt-in-left-1 {\r\n  0% {\r\n    transform: rotateX(-30deg) translateX(-300px) skewX(-30deg);\r\n    opacity: 0\r\n  }\r\n\r\n  100% {\r\n    transform: rotateX(0deg) translateX(0) skewX(0deg);\r\n    opacity: 1\r\n  }\r\n}\r\n\r\n.slide-in-blurred-top {\r\n  animation: slide-in-blurred-top .6s cubic-bezier(.23, 1.000, .32, 1.000) both\r\n}\r\n\r\n@keyframes slide-in-blurred-top {\r\n  0% {\r\n    transform: translateY(-1000px) scaleY(2.5) scaleX(.2);\r\n    transform-origin: 50% 0;\r\n    filter: blur(40px);\r\n    opacity: 0\r\n  }\r\n\r\n  100% {\r\n    transform: translateY(0) scaleY(1) scaleX(1);\r\n    transform-origin: 50% 50%;\r\n    filter: blur(0);\r\n    opacity: 1\r\n  }\r\n}\r\n\r\n.slide-in-right {\r\n  animation: slide-in-right .5s cubic-bezier(.25, .46, .45, .94) both\r\n}\r\n\r\n@keyframes slide-in-right {\r\n  0% {\r\n    transform: translateX(1000px);\r\n    opacity: 0\r\n  }\r\n\r\n  100% {\r\n    transform: translateX(0);\r\n    opacity: 1\r\n  }\r\n}");f(":root {\r\n  --primary-deep: #194769;\r\n  --primary-light: #194769;\r\n}\r\n\r\n#envBox {\r\n  position: fixed;\r\n  z-index: 999999999999;\r\n  top: 50%;\r\n  right: 0;\r\n  width: 10px;\r\n  height: 60px;\r\n  background: var(--primary-light);\r\n  transition: top .5s linear;\r\n  border-radius: 5px 0 0 5px;\r\n}\r\n\r\n#envBox-expand {\r\n  position: fixed;\r\n  z-index: 9999999999999;\r\n  height: 60px;\r\n  width: 100vw;\r\n  top: 50%;\r\n  right: 0;\r\n  background: var(--primary-light);\r\n  /* transition: width .5s linear; */\r\n}\r\n\r\n#envBox-expand button {\r\n  width: 20%;\r\n  height: 30px;\r\n  z-index: 1;\r\n  color: white;\r\n  background: var(--primary-deep);\r\n  outline: none;\r\n  border: none;\r\n  padding: 0.5em auto;\r\n  box-sizing: border-box;\r\n}\r\n\r\n#envBox-expand span {\r\n  color: #ffffff;\r\n  font-size: 14px;\r\n}\r\n\r\n\r\n.envBox-textline {\r\n  line-height: 20px;\r\n}");f("/* dialog componetnts */\r\n:root {\r\n  --main-moredeep: #194769;\r\n  --main-deep: #26699c;\r\n  --main-light: #194769;\r\n\r\n  --common-info: #194769;\r\n  --common-warn: #d2bc19;\r\n  --common-error: #F2855E;\r\n  --common-success: #6FEF8D;\r\n}\r\n\r\n#envBox-dialog {\r\n  position: fixed;\r\n  font-size: 14px;\r\n  max-width: 80%;\r\n  z-index: 99;\r\n  background: var(--main-light);\r\n  padding: 20px;\r\n  border-radius: 5px;\r\n  color: #fff;\r\n  box-shadow: 0px 10px 20px 0px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n#envBox-dialog button {\r\n  z-index: 1;\r\n  color: white;\r\n  background: var(--main-deep);\r\n  outline: none;\r\n  border: none;\r\n  padding: 5px 10px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.dialog-detail {\r\n  width: 100%;\r\n  line-height: 32px;\r\n  font-size: 14px;\r\n}\r\n\r\n.env-close {\r\n  position: absolute;\r\n  top: 0px;\r\n  right: 0px;\r\n  width: 20px;\r\n  height: 20px;\r\n  background: #fff;\r\n  border-radius: 0 0 0 50%;\r\n}\r\n\r\n/* toast componetnts */\r\n#envBox-toast {\r\n  position: fixed;\r\n  max-width: 80%;\r\n  word-break: break-all;\r\n  top: 2%;\r\n  z-index: 99;\r\n  padding: 15px;\r\n  border-radius: 30px;\r\n  font-size: 14px;\r\n  color: #fff;\r\n  box-shadow: 0px 10px 20px 0px rgba(0, 0, 0, 0.1)\r\n}\r\n\r\n.envBox-toast-info {\r\n  background: var(--common-info);\r\n}\r\n\r\n.envBox-toast-error {\r\n  background: var(--common-error);\r\n}\r\n\r\n.envBox-toast-warn {\r\n  background: var(--common-warn);\r\n}\r\n\r\n.envBox-error {\r\n  border-radius: 5px;\r\n  max-height: 400px;\r\n  color: var(--common-error);\r\n  word-break: break-all;\r\n  overflow-y: auto;\r\n}\r\n\r\n.console,\r\n.http,\r\n.router {\r\n  width: 100%;\r\n  display: flex;\r\n  word-break: break-all;\r\n  display: inline-block;\r\n  border-radius: 5px;\r\n\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.router {\r\n  color: #fff;\r\n}\r\n\r\n.console-log {}\r\n\r\n.console-warn {\r\n  color: var(--common-warn);\r\n}\r\n\r\n.console-error {\r\n  color: var(--common-error);\r\n}\r\n\r\n.console-info {\r\n  color: var(--main-deep);\r\n}\r\n\r\n\r\n\r\n.http-start {\r\n  color: var(--common-info);\r\n}\r\n\r\n.http-suc {\r\n  color: var(--common-success);\r\n}\r\n\r\n.http-err {\r\n  color: var(--common-error);\r\n}\r\n\r\n.xn {\r\n  color: #fff;\r\n  border-radius: 5px;\r\n}\r\n\r\n.xn-quick {\r\n  color: var(--common-success);\r\n}\r\n\r\n.xn-mid {\r\n  color: var(--common-warn);\r\n}\r\n\r\n.xn-low {\r\n  color: var(--common-error);\r\n}\r\n\r\n.storage-box {\r\n  border-radius: 2px;\r\n  word-break: break-all;\r\n  width: 100%;\r\n  display: flex;\r\n  word-break: break-all;\r\n  display: inline-block;\r\n  border-radius: 5px;\r\n}\r\n\r\n.storage-key {\r\n  color: #fff;\r\n}");f("html,\r\nbody {\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 0;\r\n  font-size: 16px;\r\n  margin: 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\r\n}\r\n\r\n.envBox-inlineText {\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}");var h=function(n){try{return JSON.parse(localStorage.getItem(n))}catch(n){console.log(n)}},p=function(n,t){localStorage.setItem(n,JSON.stringify(t))},v=function(n){return Object.prototype.toString.call(n).slice(8,-1).toLowerCase()},m=function(n){return document.querySelector(n)},y=function(n){var e=new WeakSet;return JSON.stringify(n,(function(n,r){if("object"===t(r)&&null!==r){if(e.has(r))return;e.add(r)}return r}))},g=function(){var n=new Date;return"".concat(n.getFullYear(),"年").concat(n.getMonth()+1,"月").concat(n.getDate(),"日").concat(n.getHours(),"时").concat(n.getMinutes(),"分").concat(n.getSeconds(),"秒")},w={info:"envBox-toast-info",error:"envBox-toast-error",warn:"envBox-toast-warn"},x=function(n,t,e,r){m("#envBox-toast")&&document.body.removeChild(m("#envBox-toast"));var o=document.createElement("div");o.id="envBox-toast",o.className="slide-in-blurred-top ".concat(w[e]),"textDialog"===r&&(o.style.borderRadius="5px",o.style.borderRadius="5px"),o.innerHTML=n,document.body.appendChild(o),setTimeout((function(){o&&document.body.removeChild(o)}),t)},b=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;x(n,t,"info","textDialog")},L=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;x(n,t,"info")},E=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;x(n,t,"error")},T=i((function n(t,e){r(this,n);var o=new Map;t.addEventListener("touchstart",(function(n){var t,r=d(n.changedTouches);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=Object.create(null);o.set(i.identifier,a),e.start(i,a)}}catch(n){r.e(n)}finally{r.f()}})),t.addEventListener("touchmove",(function(n){var t,r=d(n.changedTouches);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=o.get(i.identifier);e.move(i,a)}}catch(n){r.e(n)}finally{r.f()}})),t.addEventListener("touchend",(function(n){var t,r=d(n.changedTouches);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=o.get(i.identifier);e.end(i,a),o.delete(i.identifier)}}catch(n){r.e(n)}finally{r.f()}})),t.addEventListener("cancel",(function(n){var t,r=d(n.changedTouches);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=o.get(i.identifier);e.cancel(i,a),o.delete(i.identifier)}}catch(n){r.e(n)}finally{r.f()}}))})),k=function(){function n(t){r(this,n),this.dispatcher=t}return i(n,[{key:"start",value:function(n,t){var e=this;t.startX=n.clientX,t.startY=n.clientY,t.isPan=!1,t.isTap=!0,t.isPress=!1,t.handler=setTimeout((function(){t.isPan=!1,t.isTap=!1,t.isPress=!0,e.dispatcher.dispatch("press",{clientX:n.clientX,clientY:n.clientY}),t.handler=null}),500)}},{key:"move",value:function(n,t){var e=n.clientX-t.startX,r=n.clientY-t.startY,o=Math.pow(e,2)+Math.pow(r,2);!t.isPan&&o>100&&(t.isPan=!0,t.isTap=!1,t.isPress=!1,t.isVertical=Math.abs(e)<Math.abs(r),this.dispatcher.dispatch("panstart",{startX:t.startX,startY:t.startY,clientX:n.clientX,clientY:n.clientY,dx:e,dy:r,isVertical:t.isVertical}),clearTimeout(t.handler)),t.isPan&&this.dispatcher.dispatch("pan",{startX:t.startX,startY:t.startY,clientX:n.clientX,clientY:n.clientY,dx:e,dy:r,isVertical:t.isVertical}),t.points?t.points=t.points.filter((function(n){return Date.now()-n.t<500})):t.points=[],t.points.push({t:Date.now(),x:n.clientX,y:n.clientY})}},{key:"end",value:function(n,t){(t.isFlick=!1,t.isTap&&(this.dispatcher.dispatch("tap",{}),clearTimeout(t.handler)),t.isPan)&&(t.points=t.points.filter((function(n){return Date.now()-n.t<500})),(t.points.length?Math.sqrt(Math.pow(n.clientX-t.points[0].x,2)+Math.pow(n.clientY-t.points[0].y,2))/(Date.now()-t.points[0].t):0)>1.5?(t.isFlick=!0,this.dispatcher.dispatch("flick",{})):(t.isFlick=!1,this.dispatcher.dispatch("panend",{clientX:n.clientX,clientY:n.clientY})));t.isPress&&this.dispatcher.dispatch("panend",{startX:t.startX,startY:t.startY,clientX:n.clientX,clientY:n.clientY,isVertical:t.isVertical,isFlick:t.isFlick})}},{key:"cancel",value:function(n,t){clearTimeout(t.handler)}}]),n}(),S=function(){function n(t){r(this,n),this.element=t}return i(n,[{key:"dispatch",value:function(n,t){var e=new Event(n);for(var r in t)e[r]=t[r];this.element.dispatchEvent(e)}}]),n}();function N(n){new T(n=document.documentElement,new k(new S(n)))}function C(n,t){N(n),t?Xn.startdevTools(t):Xn.startdevTools();var e=document.getElementById("envBox");e.style.display="none";var r=0,o=0,i=0,a=0,c=!1,s=0,l=!1,u=!1,d=!1,f=null;t.endTime&&setTimeout((function(){f&&(clearInterval(f),f=null)}),t.endTime),document&&document.documentElement&&document.documentElement.addEventListener("pan",(function(n){r=n.dx,o=n.dy,i=n.startX,a=n.clientX,f||(f=setInterval((function(){r>200&&!c&&(c=!0,s=o),c&&!l&&Math.abs(a-i)<20&&o-s>100&&(l=!0,u=r),c&&l&&!d&&r-u>100&&(L("success unlock"),d=!0,e.style.display="block",clearInterval(f),f=null)}),50))}))}var O='<svg class=\'env-close\' role="img" xmlns="http://www.w3.org/2000/svg" width="48px" height="48px" viewBox="0 0 24 24" aria-labelledby="closeIconTitle" stroke="#194769" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="miter" fill="none" color="#194769"> <title id="closeIconTitle">Close</title> <path d="M6.34314575 6.34314575L17.6568542 17.6568542M6.34314575 17.6568542L17.6568542 6.34314575"/> </svg>';let I,B,_=!1;const M=n=>{p("global_forbid",!0);let t=document.querySelector("#envBox-dialog");t||(t=document.createElement("div"),t.id="envBox-dialog",t.className="jello-horizontal",document.body.appendChild(t)),t.style.display="block",t.innerHTML&&(t.innerHTML=""),t.innerHTML=n,t.innerHTML+=O,Y(t),H(),document.querySelector(".env-close").addEventListener("click",(()=>{j()}),!1)},j=()=>{let n=document.querySelector("#envBox-dialog");n.innerHTML="",n.style.display="none",p("global_forbid",!1)},X=n=>{if(!m(".envBox-error"))return;let t=document.querySelector("#envBox-dialog");t&&(t.innerHTML&&(t.innerHTML=""),t.innerHTML+=n,t.innerHTML+=O,document.querySelector(".env-close").addEventListener("click",(()=>{j()}),!1))},H=()=>{document.documentElement.addEventListener("panstart",(n=>{const t=m("#envBox-dialog");I=n.clientX-t.offsetLeft,B=n.clientY-t.offsetTop,R(t,n.startX,n.startY)&&(_=!0)}),!1),document.documentElement.addEventListener("pan",(n=>{const t=m("#envBox-dialog");P(t,n)}),!1),document.documentElement.addEventListener("panend",(n=>{const t=m("#envBox-dialog");P(t,n),_=!1}),!1)},P=(n,t)=>{_&&(n.style.left=t.clientX-I+"px",n.style.top=t.clientY-B+"px")},Y=n=>{n.style.left=window.innerWidth/2-n.offsetWidth/2+"px",n.style.top=window.innerHeight/2-n.offsetHeight/2+"px"},R=(n,t,e)=>{let r=n.offsetLeft,o=n.offsetLeft+n.offsetWidth,i=n.offsetTop,a=n.offsetTop+n.offsetHeight;return r<t&&t<o&&i<e&&e<a};var A=["load","loadend","timeout","error","readystatechange","abort"];function D(n,t){var e={};for(var r in n)e[r]=n[r];return e.target=e.currentTarget=t,e}var q=A[0],z=A[1],F=A[2],U=A[3],G=A[4],V=A[5];function W(n,t){if((t=t||window).__xhr)throw"Ajax is already hooked.";return function(n,t){var e=n.onRequest,r=n.onResponse,o=n.onError;function i(n,t){var e=new nn(n),o={response:t.response||t.responseText,status:t.status,statusText:t.statusText,config:n.config,headers:n.resHeader||n.getAllResponseHeaders().split("\r\n").reduce((function(n,t){if(""===t)return n;var e=t.split(":");return n[e.shift()]=function(n){return n.replace(/^\s+|\s+$/g,"")}(e.join(":")),n}),{})};if(!r)return e.resolve(o);r(o,e)}function a(n,t,e,r){var i=new tn(n);e={config:n.config,error:e,type:r},o?o(e,i):i.next(e)}function c(){return!0}function s(n){return function(t,e){return a(t,this,e,n),!0}}function l(n,t){return 4===n.readyState&&0!==n.status?i(n,t):4!==n.readyState&&$(n,G),!0}return function(n,t){function e(t){return function(){var e=this.hasOwnProperty(t+"_")?this[t+"_"]:this.xhr[t],r=(n[t]||{}).getter;return r&&r(e,this)||e}}function r(t){return function(e){var r=this.xhr,o=this,i=n[t];if("on"===t.substring(0,2))o[t+"_"]=e,r[t]=function(i){i=D(i,o),n[t]&&n[t].call(o,r,i)||e.call(o,i)};else{var a=(i||{}).setter;e=a&&a(e,o)||e,this[t+"_"]=e;try{r[t]=e}catch(n){}}}}function o(t){return function(){var e=[].slice.call(arguments);if(n[t]){var r=n[t].call(this,e,this.xhr);if(r)return r}return this.xhr[t].apply(this.xhr,e)}}return(t=t||window).__xhr=t.__xhr||t.XMLHttpRequest,t.XMLHttpRequest=function(){for(var n=new t.__xhr,i=0;i<A.length;++i){var a="on"+A[i];void 0===n[a]&&(n[a]=null)}for(var c in n){var s="";try{s=typeof n[c]}catch(n){}"function"===s?this[c]=o(c):Object.defineProperty(this,c,{get:e(c),set:r(c),enumerable:!0})}var l=this;n.getProxy=function(){return l},this.xhr=n},Object.assign(t.XMLHttpRequest,{UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4}),t.__xhr}({onload:c,onloadend:c,onerror:s(U),ontimeout:s(F),onabort:s(V),onreadystatechange:function(n){return l(n,this)},open:function(n,t){var r=this,o=t.config={headers:{}};o.method=n[0],o.url=n[1],o.async=n[2],o.user=n[3],o.password=n[4],o.xhr=t;var i="on"+G;if(t[i]||(t[i]=function(){return l(t,r)}),e)return!0},send:function(n,t){var r=t.config;if(r.withCredentials=t.withCredentials,r.body=n[0],e){var o=function(){e(r,new Z(t))};return!1===r.async?o():setTimeout(o),!0}},setRequestHeader:function(n,t){if(t.config.headers[n[0].toLowerCase()]=n[1],e)return!0},addEventListener:function(n,t){var e=this;if(-1!==A.indexOf(n[0])){var r=n[1];return J(t).addEventListener(n[0],(function(t){var o=D(t,e);o.type=n[0],o.isTrusted=!0,r.call(e,o)})),!0}},getAllResponseHeaders:function(n,t){var e=t.resHeader;if(e){var r="";for(var o in e)r+=o+": "+e[o]+"\r\n";return r}},getResponseHeader:function(n,t){var e=t.resHeader;if(e)return e[(n[0]||"").toLowerCase()]}},t)}(n,t)}function J(n){return n.watcher||(n.watcher=document.createElement("a"))}function $(n,t){var e,r=n.getProxy(),o="on"+t+"_",i=D({type:t},r);r[o]&&r[o](i),"function"==typeof Event?e=new Event(t,{bubbles:!1}):(e=document.createEvent("Event")).initEvent(t,!1,!0),J(n).dispatchEvent(e)}function K(n){this.xhr=n,this.xhrProxy=n.getProxy()}function Q(n){function t(n){K.call(this,n)}return t.prototype=Object.create(K.prototype),t.prototype.next=n,t}K.prototype=Object.create({resolve:function(n){var t=this.xhrProxy,e=this.xhr;t.readyState=4,e.resHeader=n.headers,t.response=t.responseText=n.response,t.statusText=n.statusText,t.status=n.status,$(e,G),$(e,q),$(e,z)},reject:function(n){this.xhrProxy.status=0,$(this.xhr,n.type),$(this.xhr,z)}});var Z=Q((function(n){var t=this.xhr;for(var e in n=n||t.config,t.withCredentials=n.withCredentials,t.open(n.method,n.url,!1!==n.async,n.user,n.password),n.headers)t.setRequestHeader(e,n.headers[e]);t.send(n.body)})),nn=Q((function(n){this.resolve(n)})),tn=Q((function(n){this.reject(n)}));var en=!1,rn={insertDOM:document.querySelector("#app"),wait:1e3,needSleep:!1,envBoxIdName:"envBox",envBoxExpandIdName:"envBox-expand",envList:["test","dev","prebrand"],watchEnv:!0,watchPerformance:!0,watchError:!0,watchRoutes:!0,watchActions:!0,watchStorage:!0,watchSystem:!0,watchConsole:!0,watchHttp:!0,isNewStorage:!0,watchActionDOMList:[{eventType:"click",domId:".test1",eventId:"001"}],sendOptions:{commonInfo:{pid:"",mid:"",uid:"",did:""},method:"gif",baseURL:"http://localhost:8000"},version:"1.0.0",maxLimit:5,asyncTime:5e3,endTime:1e4},on={errorCount:0,errorSum:"",errorList:[]},an={FP:[30,100],DCL:[500,1200],L:[600,2e3]},cn={routeInfo:{newURL:"",oldURL:"",title:"",routeType:"",refreshNums:h("global_refreshNums")||0,changeTime:""},routesList:[]},sn={newStorageList:[],maxLen:5},ln={},un={consoleList:[],info:[],error:[],log:[],warn:[]},dn={httpList:[],urlList:[]},fn=function(){p("global_forbid",!1)},hn=function(n){var t=n.envBoxIdName,e=n.envBoxExpandIdName,r=n.insertDOM,o=n.watchHttp,i=n.watchSystem,a=n.watchEnv,c=n.watchPerformance,s=n.watchError,l=n.watchRoutes,u=n.watchStorage,d=n.watchConsole,f=document.createElement("div");f.id=t,r.appendChild(f),pn(f),f.addEventListener("click",(function(n){!0!==h("global_forbid")&&(en=!0,f.id=e,f.className="slide-in-right",a&&Tn(f),c&&kn(f),s&&Sn(f),l&&Nn(f),u&&Cn(f),i&&On(f),d&&In(f),o&&Bn(f),_n(f),Mn(f),document.querySelectorAll("#envBox-expand button").forEach((function(n){n.ontouchstart=function(){n.style.background="#26699c"},n.ontouchend=function(){n.style.background="#194769"}})))}),!1),document.addEventListener("click",(function(n){n.target.id!==f.id&&en&&(f.id=t,f.innerHTML="",en=!1,f.className="")}),!1)},pn=function(n){N();var t=n.offsetWidth,e=n.offsetHeight,r=n.offsetLeft,o=n.offsetTop,i=!1;document.documentElement.addEventListener("panstart",(function(n){i=r-10<n.clientX&&n.clientX<r+t+10&&o-10<n.clientY&&n.clientY<o+e+10})),document.documentElement.addEventListener("panend",(function(t){i&&(n.style.top=t.clientY+"px",o=t.clientY)}))},vn=function(n){for(var t in n){null==n[t]&&E("options exist null or undefined----"+t)}},mn=function(){window.addEventListener("error",(function(n){En("global error"+n.message),X("<div>".concat(on.errorSum,"</div>"))}),!1),window.addEventListener("unhandledrejection",(function(n){En("promise error"+n.reason),X("<div>".concat(on.errorSum,"</div>"))}),!1)},yn=function(){rn.watchActionDOMList.forEach((function(n){var t=n.domId&&document.querySelectorAll(n.domId);t&&t.forEach((function(t){t.addEventListener(n.eventType,(function(){jn({type:n.eventType,DOM:n.domId},"action")}))}))}))},gn=function(){var n=cn.routeInfo;n.newURL=window.location.href,n.oldURL=window.location.href,n.title=document.title,n.routeType=window.location.href.includes("/#/")?"hash":"history",n.changeTime=g(),window.onload=function(){n.refreshNums+=1,p("global_refreshNums",n.refreshNums)},window.addEventListener("popstate",(function(t){n.changeTime=g(),"history"===n.routeType&&L("back："+window.location.href)})),window.addEventListener("hashchange",(function(t){n.newURL=t.newURL,n.oldURL=t.oldURL,n.routeType="hash",n.changeTime=g(),n.routesList.push(t.newURL),L("back："+t.newURL)})),window.addHistoryListener("history",(function(){n.newURL=window.location.href,n.routeType="history",n.changeTime=g(),L("enter："+window.location.href)}))},wn=function(){var n=localStorage.setItem;localStorage.setItem=function(t,e){e=y(e);var r=new Event("setItem",{key:e});r.key=t,r.val=e;var o=sn.newStorageList.findIndex((function(n){return n[0]===t}));o>-1?(sn.newStorageList.splice(o,1),sn.newStorageList.unshift([t,e])):sn.newStorageList.push([t,e]),window.dispatchEvent(r),n.apply(this,arguments)}},xn=function(){var t,r=(t=n().mark((function t(){var e;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=function(){plus.geolocation.getCurrentPosition((function(n){ln.latitude=n.coords.latitude,ln.longitude=n.coords.longitude,ln.altitude=n.coords.altitude,ln.accuracy=n.coords.accuracy,ln.country=n.address.country,ln.city=n.address.city,ln.district=n.address.district,ln.street=n.address.street,ln.streetNum=n.address.streetNum,ln.poiName=n.address.poiName,ln.postalCode=n.address.postalCode,ln.cityCode=n.address.cityCode,ln.addresses=n.addresses}),(function(n){alert("Geolocation error: "+n.message)})),plus.device.getInfo({success:function(n){var t;a(t={IMEI:n.imei,IMSI:n.imsi,uuid:n.uuid,Model:plus.device.model,vendor:plus.device.vendor,dpiX:plus.screen.dpiX,dpiY:plus.screen.dpiY,height:plus.screen.height,width:plus.screen.width,resolutionHeight:plus.screen.resolutionHeight,resolutionWidth:plus.screen.resolutionWidth,scale:plus.screen.scale,CONNECTION_NONE:plus.networkinfo.CONNECTION_NONE,CONNECTION_ETHERNET:plus.networkinfo.CONNECTION_ETHERNET,CONNECTION_WIFI:plus.networkinfo.CONNECTION_WIFI,language:plus.os.language,name:plus.os.name},"vendor",plus.os.vendor),a(t,"version",plus.os.version),a(t,"language",plus.os.language),c("systemData")}})},returnCitySN&&(ln.IP=returnCitySN.cip,ln["地区代码"]=returnCitySN.cid,ln["城市"]=returnCitySN.cname),window.plus||(ln.userAgent=navigator.userAgent,ln.appName=navigator.appName,ln.appCodeName=navigator.appCodeName,ln.appVersion=navigator.appVersion,ln.appMinorVersion=navigator.appMinorVersion,ln.platform=navigator.platform,ln.language=navigator.language,ln.width=window.screen.width,ln.height=window.screen.height,ln.pixelDepth=window.screen.pixelDepth),window.plus?e():document.addEventListener("plusready",e,!1);case 4:case"end":return n.stop()}}),t)})),function(){var n=this,r=arguments;return new Promise((function(o,i){var a=t.apply(n,r);function c(n){e(a,o,i,c,s,"next",n)}function s(n){e(a,o,i,c,s,"throw",n)}c(void 0)}))});return function(){return r.apply(this,arguments)}}(),bn=function(){["info","error","log","warn"].forEach((function(n){!function(n){var t=console[n];console[n]=function(){un.consoleList.push({data:arguments[0],type:n}),t.call.apply(t,[console].concat(Array.prototype.slice.call(arguments)))}}(n)}))},Ln=function(){W({onRequest:function(n,t){console.log("preWatchHttp----start",n);var e={method:n.method,headers:n["content-type"],url:n.url,body:n.body||""};dn.httpList.push(e),dn.urlList.push({url:n.url,type:"send"}),t.next(n)},onError:function(n,t){console.log("preWatch----error",n);var e={method:n.config.method,headers:n.config["content-type"],url:n.config.url};dn.httpList.push(e),dn.urlList.push({url:n.config.url,type:"err"}),t.next(n)},onResponse:function(n,t){console.log("preWatch----success",n);var e={method:n.config.method,headers:n.headers["content-type"],url:n.config.url,status:n.status,response:n.response};dn.httpList.push(e),dn.urlList.push({url:n.config.url,type:"suc"}),t.next(n)}})},En=function(n){var t=on.errorList,e=rn.asyncTime;if(n&&(t.push(n),on.errorCount+=1,"array"===v(t))){on.errorSum+="".concat(on.errorCount,": ")+n+"<br>";var r={errorSum:on.errorSum};if(on.errorCount>=rn.maxLimit)jn(r,"err"),on.errorList=[];else{if(!on.errorList.length)return;setTimeout((function(){on.errorCount<rn.maxLimit&&(jn(r,"err"),on.errorList=[])}),e)}}},Tn=function(n){var t=rn.envList,e=document.createElement("button");e.innerText=h("global_env")||"env",e.className="envBtn",n.appendChild(e),e.addEventListener("click",(function(){var n="<div class='dialog-detail'>当前环境: ".concat(h("global_env")||"env","</div>");t.forEach((function(t){n+="<button class='env-btn'>".concat(t,"</button>")})),M(n),document.querySelectorAll(".env-btn").forEach((function(n){n.addEventListener("click",(function(t){en=!1;var r=t.target.textContent;p("global_env",r),n.innerText=r,e.innerText=h("global_env")||"env",p("global_url","https://".concat(r,".zzss.com")),L("已成功修改"+r+"环境")}),!1)}))}),!1)},kn=function(n){var t=document.createElement("button");n.appendChild(t),t.innerText="performance";var e,r,o,i=window.performance.timing,a=i.domLoading,c=i.navigationStart;function s(n,t){var e=an[n];return t<e[0]?"xn-quick xn":t>e[1]?"xn-low xn":"xn-mid xn"}r=i.domContentLoadedEventEnd-c,o=i.loadEventEnd-c;var l="<div>首屏渲染：<span class=".concat(s("FP",e=a-c),">").concat(e,"ms</span></div><br><div>DOM加载完毕： <span class=").concat(s("DCL",r),">").concat(r,"ms</span></div><br><div>图片、样式等外链资源加载完成：<span class=").concat(s("L",o),">").concat(o,"ms</span></div>");t.onclick=function(){M(l)}},Sn=function(n){var t=on.errorSum,e=document.createElement("button");n.appendChild(e),e.innerText="error",e.onclick=function(){t?M("<div class='envBox-error'>".concat(t,"</div>")):L("no error")}},Nn=function(n){var t=cn.routeInfo,e=document.createElement("button");n.appendChild(e),e.innerText="route",e.onclick=function(){for(var n="",e=0,r=Object.entries(t);e<r.length;e++){var o=s(r[e],2),i=o[0],a=o[1];n+="<div class='envBox-textline router'>".concat(i+"："+a,"</div>")}n+="<div class='envBox-inlineText envBox-textline router-log router'>routesList: ".concat(cn.routesList,"</div>"),M(n),m(".router-log").onclick=function(){b(JSON.stringify(cn.routesList))}}},Cn=function(n){var t=rn.isNewStorage,e=sn.maxLen,r=document.createElement("button");n.appendChild(r),r.innerText="storage",r.onclick=function(){var n,r="",o=[],i=null===(n=sn.newStorageList)||void 0===n?void 0:n.length;(t&&e<i&&sn.newStorageList.splice(e,i),sn.newStorageList.length)?(sn.newStorageList.forEach((function(n,t){var e=n[0],i=JSON.parse(y(n[1])),a=v(i),c="<div class='envBox-inlineText storage-box'><span class='storage-key'>key： </span><span >".concat(e,"</span> <span class='storage-key'>val：</span><span >").concat(i,"</span> <span class='storage-key'>type：</span><span >").concat(a,"</span> <br></div>");r+=c;var s=c.replace("envBox-inlineText","");o.push(s)})),M(r),r="",document.querySelectorAll(".storage-box").forEach((function(n,t){n.addEventListener("click",(function(){b(o[t],5e3)}),!1)}))):L("no storage")}},On=function(n){var t=document.createElement("button");n.appendChild(t),t.innerText="system",t.onclick=function(){if(window.plus||L("在真机webview中可以获取更多设备数据"),"{}"!==JSON.stringify(ln)){for(var n="",t=0,e=Object.entries(ln);t<e.length;t++){var r=s(e[t],2),o=r[0],i=r[1];n+="<div>".concat(o,": ").concat(i,"</div>")}M(n)}else E("设备数据获取异常")}},In=function(n){var e=document.createElement("button");n.appendChild(e),e.innerText="console",e.onclick=function(){var n="";un.consoleList.length?(un.consoleList.forEach((function(e){var r=e.data,o=e.type;if("object"===t(r)){var i=y(r);n+="<div class='console console-".concat(o,"'>").concat(i,"</div>")}else n+="<div class='console console-".concat(o,"'>").concat(r,"</div>")})),M("<div>".concat(n,"</div>")),document.querySelectorAll(".console").forEach((function(n,e){n.addEventListener("click",(function(){var n=un.consoleList[e].data,r="object"===t(n)?y(n):n;b(r,5e3)}),!1)}))):L("no log")}},Bn=function(n){var t=document.createElement("button");n.appendChild(t),t.innerText="http",t.onclick=function(){var n="";dn.urlList.length?(dn.urlList.forEach((function(t,e){n+="<div class='http http-".concat(t.type,"'>").concat(t.url,"</div>")})),M(n),document.querySelectorAll(".http").forEach((function(n,t){n.addEventListener("click",(function(){for(var n="",e=0,r=Object.entries(dn.httpList[t]);e<r.length;e++){var o=s(r[e],2),i=o[0],a=o[1];n+="<div>".concat(i,": ").concat(a,"</div> ")}b(n,5e3)}),!1)}))):L("no http data")}},_n=function(n){var t=document.createElement("button");n.appendChild(t),t.innerText="version",t.onclick=function(){L("当前版本".concat(rn.version))}},Mn=function(n){var t=document.createElement("button");n.appendChild(t),t.innerText="clear",t.onclick=function(){on.errorList=[],on.errorSum="",cn.routesList=[],cn.routeInfo.refreshNums=0,sn.newStorageList=[],un.consoleList=[],dn.urlList=[],L("cache cleared successfully")}},jn=function(n,t,e){"object"===v(n)||t||E("do not input object or type");var r=rn.sendOptions,o=r.baseURL,i=r.commonInfo,a=r.method,c=Object.assign({},n,i),l=Object.entries(c).map((function(n){var t=s(n,2),e=t[0],r=t[1];return"".concat(e,"=").concat(r)})).join("&");"gif"!==e&&"gif"!==a||((new Image).src="".concat(o,"?")+encodeURIComponent(l));"beacon"!==e&&"beacon"!==a||navigator.sendBeacon(o,c)},Xn={startdevTools:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn;fn(),Object.assign(rn,n),vn(rn),rn.watchError&&mn(),rn.watchActions&&yn(),rn.watchRoutes&&gn(),rn.watchStorage&&wn(),rn.watchSystem&&xn(),rn.watchConsole&&bn(),rn.watchHttp&&Ln();var t=rn.needSleep,e=rn.wait;t?setTimeout((function(){hn(rn)}),e):hn(rn)},sendMsg:jn};!function(){var n=function(){function n(t){r(this,n),this.id=new Date,this.subs=[]}return i(n,[{key:"defined",value:function(){n.watch.add(this)}},{key:"notify",value:function(){this.subs.forEach((function(n,t){if("function"==typeof n.update)try{n.update.apply(n)}catch(n){console.warr(n)}}))}}]),n}();n.watch=null;var t,e=function(){function n(t,e){r(this,n),this.name=t,this.id=new Date,this.callBack=e}return i(n,[{key:"add",value:function(n){n.subs.push(this)}},{key:"update",value:function(){(0,this.callBack)(this.name)}}]),n}(),o=(t=new n,function(r){if("historychange"===r)return function(r,o){var i=new e(r,o);n.watch=i,t.defined(),n.watch=null};if("pushState"===r||"replaceState"===r){console.log(history);var o=history[r];return function(){o.apply(history,arguments),t.notify()}}});window.addHistoryListener=o("historychange"),history.pushState=o("pushState"),history.replaceState=o("replaceState")}();var Hn="Mobile"==(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"Mobile":"Desktop");window||E("it is must be brower environment"),Hn||E("it is must be mobile H5 environment"),Object.prototype.h5tools={gesture:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"z",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"z"===t&&C(n=document.documentElement,e)},start:Xn.startdevTools,send:Xn.sendMsg}}));
